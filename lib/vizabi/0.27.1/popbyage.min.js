!function(e){function t(s){if(i[s])return i[s].exports;var a=i[s]={i:s,l:!1,exports:{}};return e[s].call(a.exports,a,a.exports,t),a.l=!0,a.exports}var i={};t.m=e,t.c=i,t.i=function(e){return e},t.d=function(e,i,s){t.o(e,i)||Object.defineProperty(e,i,{configurable:!1,enumerable:!0,get:s})},t.n=function(e){var i=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(i,"a",i),i},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=4)}([function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),i(2);var s=i(1),a=function(e){return e&&e.__esModule?e:{default:e}}(s),n={version:"1.2.6",build:1511447038254},r=Vizabi.Tool.extend("PopByAge",{init:function(e,t){this.name="popbyage",this.components=[{component:a.default,placeholder:".vzb-tool-viz",model:["state.time","state.marker","state.marker_allpossible","state.entities","state.entities_side","state.entities_age","state.entities_allpossible","state.entities_geodomain","locale","ui"]},{component:Vizabi.Component.get("timeslider"),placeholder:".vzb-tool-timeslider",model:["state.time","state.entities","state.marker","ui"]},{component:Vizabi.Component.get("dialogs"),placeholder:".vzb-tool-dialogs",model:["state","ui","locale"]},{component:Vizabi.Component.get("buttonlist"),placeholder:".vzb-tool-buttonlist",model:["state","ui","locale"]},{component:Vizabi.Component.get("treemenu"),placeholder:".vzb-tool-treemenu",model:["state.marker","state.marker_tags","state.time","locale"]},{component:Vizabi.Component.get("datanotes"),placeholder:".vzb-tool-datanotes",model:["state.marker","locale"]},{component:Vizabi.Component.get("steppedspeedslider"),placeholder:".vzb-tool-stepped-speed-slider",model:["state.time","locale"]}],this._super(e,t)},validate:function(e){if(e=this.model||e,this._super(e),!this.model){var t=e.state.entities,i=e.state.entities_allpossible.dim;if(Object.keys(t.show).length>0){var s={};t.show[t.dim]&&t.show[t.dim].$in&&(s[t.dim]={},s[t.dim].$in=t.show[t.dim].$in),t.dim!==i&&(s["is--"+i]=!0),t.show[t.dim]&&1==Object.keys(t.show).length||(t.show=s)}var a=e.state.entities_geodomain;a.skipFilter=(e.state.entities.dim===a.dim||e.state.entities_side.dim===a.dim)&&(Boolean(e.state.entities.getFilteredEntities().length)||!e.state.entities_side.skipFilter)}},default_model:{state:{marker_tags:{}},ui:{chart:{mode:"smallMultiples",stacked:!0,inpercent:!1,flipSides:!0,lockActive:!0,lockNonSelected:0},buttons:["colors","show","lock","side","inpercent","moreoptions","fullscreen"],dialogs:{popup:["timedisplay","colors","show","side","moreoptions"],sidebar:["timedisplay","colors","grouping","show"],moreoptions:["opacity","speed","grouping","colors","side","presentation","about"]},presentation:!1},locale:{}},versionInfo:n});t.default=r},function(e,t,i){"use strict";function s(e){if(Array.isArray(e)){for(var t=0,i=Array(e.length);t<e.length;t++)i[t]=e[t];return i}return Array.from(e)}Object.defineProperty(t,"__esModule",{value:!0});var a=Vizabi,n=a.utils,r=a.Component,l=a.helpers,o=l["d3.axisWithLabelPicker"],c=l["d3.dynamicBackground"],h=l.textEllipsis,d=a.iconset.question,m=r.extend("popbyage",{init:function(e,t){this.name="popbyage",this.template=i(3),this.model_expects=[{name:"time",type:"time"},{name:"marker",type:"marker"},{name:"marker_allpossible",type:"marker"},{name:"entities",type:"entities"},{name:"entities_side",type:"entities"},{name:"entities_age",type:"entities"},{name:"entities_allpossible",type:"entities"},{name:"entities_geodomain",type:"entities"},{name:"locale",type:"locale"},{name:"ui",type:"ui"}];var s=this;this.model_binds={"change:time.startSelected":function(e){s._readyOnce&&s.model.time.set({startSelected:new Date(s.timeSteps[0])},!1,!1)},"change:time.endSelected":function(e){s._readyOnce&&s.model.time.set({endSelected:new Date(s.timeSteps[s.timeSteps.length-1])},!1,!1)},"change:time.value":function(e){if(s._readyOnce){if(1!=s.model.time.step&&!s.snapped&&!s.model.time.playing&&!s.model.time.dragging){if(s.snapTime)return void(+s.snapTime-s.model.time.value===0?(s.snapTime=null,s.model.time.snap()):s.model.time.value=new Date(s.snapTime));if(s.updateStartEnd(s.model.time.value,s.groupBy))return void s.ready();var t=d3.bisectLeft(s.timeSteps,s.model.time.value);if(0!=t&&s.timeSteps[t]-s.model.time.value){s.snapped=!0;var i=s.model.time.value,a=s.timeSteps[t-1];t=s.timeSteps[t];var n=i-a<t-i?a:t;s.model.time.value=new Date(n)}}if(!s.snapped)if(s.timeSteps.filter(function(e){return e-s.model.time.value==0}).length)s.model.marker.getFrame(s.model.time.value,function(e){e&&(s.frame=e,s.frameAxisX=e.axis_x,s._updateEntities(),s.updateBarsOpacity())});else if(s.model.time.value<s.model.time.startSelected||s.model.time.value>s.model.time.endSelected)s.snapTime=s.model.time.value;else{s.snapTime=null;var r=d3.bisectLeft(s.timeSteps,s.model.time.value),l=s.timeSteps[r-1],o=s.timeSteps[r],c=(s.model.time.value-l)/(o-l);s.model.marker.getFrame(o,function(e){s.model.marker.getFrame(l,function(t){s.frameAxisX=s.interpolateDiagonal(t.axis_x,e.axis_x,c),s._updateEntities(),s.updateBarsOpacity()})})}s.snapped=!1}},"change:marker.select":function(e){s.someSelected=s.model.marker.select.length>0,s.nonSelectedOpacityZero=!1,s.updateBarsOpacity()},"change:marker.highlight":function(e,t){s._readyOnce&&s._highlightBars()},"change:marker.opacitySelectDim":function(){s.updateBarsOpacity()},"change:marker.opacityRegular":function(){s.updateBarsOpacity()},"change:marker.color.palette":function(e){s._readyOnce&&s._updateEntities(!0)},"change:marker.color.scaleType":function(e){s._readyOnce&&s._updateEntities()},"change:marker.color.which":function(e){if(s._readyOnce){var t=void 0,i={},a={};if("constant"==s.model.marker.color.use)t=null;else{var n=s.model.marker.color.getConceptprops();if("entity_set"==n.concept_type){t=n.domain,i[t]={};var r=s.model.marker.side.getConceptprops();"entity_set"==r.concept_type&&t==r.domain&&s.model.marker.side.which!==s.model.marker.color.which&&s.model.marker.side.setWhich({concept:s.model.marker.color.which})}else t=s.model.marker.color.which}s.STACKDIM!==t&&(a.show=i),a.dim=t;var l=s.SIDEDIM!==s.geoDomainDimension||s.model.marker.color.which===s.model.marker.side.which;if(!l){var o={};o["is--"+s.model.marker.side.which]=!0,s.model.entities_side.set("show",o)}s.model.entities_side.skipFilter=l,s.model.entities.set(a),s.model.entities_geodomain.skipFilter=(t===s.geoDomainDimension||s.SIDEDIM===s.geoDomainDimension)&&(Boolean(s.model.entities.getFilteredEntities().length)||!s.model.entities_side.skipFilter),s.model.entities_allpossible.set("dim",t),s.model.marker_allpossible.color.set("which",s.model.marker.color.which)}},"change:marker.side.which":function(e){if(s._readyOnce){var t=void 0,i={},a={};if("constant"==s.model.marker.side.use)t=null;else{var n=s.model.marker.side.getConceptprops();if("entity_set"==n.concept_type){t=n.domain;var r=s.model.marker.color.getConceptprops();"entity_set"==r.concept_type&&t==r.domain&&s.model.marker.color.which!==s.model.marker.side.which&&s.model.marker.color.setWhich({concept:s.model.marker.side.which})}else t=s.model.marker.side.which}s.model.marker.side.clearSideState();var l=t!==s.geoDomainDimension||s.model.marker.color.which===s.model.marker.side.which;l||(i["is--"+s.model.marker.side.which]=!0),s.model.entities_side.skipFilter=l,a.show=i,a.dim=t,s.model.entities_side.set(a),s.model.entities_geodomain.skipFilter=(t===s.geoDomainDimension||s.STACKDIM===s.geoDomainDimension)&&(Boolean(s.model.entities.getFilteredEntities().length)||!s.model.entities_side.skipFilter),s.model.marker.color.which===s.model.marker.side.which&&s.model.entities.clearShow()}},"change:entities.show":function(e){if(s._readyOnce){if(s.model.entities.dim===s.model.entities_side.dim&&!n.isEmpty(s.model.entities_side.show)){var t=s.model.entities_side.getFilteredEntities().filter(function(e){return!s.model.entities.isShown(e)});t.length&&(s.model.marker.side.clearSideState(),s.model.entities_side.showEntity(t))}s.model.entities_geodomain.skipFilter=(s.SIDEDIM===s.geoDomainDimension||s.STACKDIM===s.geoDomainDimension)&&(Boolean(s.model.entities.getFilteredEntities().length)||!s.model.entities_side.skipFilter)}},"change:entities_side.show":function(e){if(s._readyOnce){var t=!1,i=null;if(n.forEach(s.model.marker.side._space,function(e){e.dim===s.model.entities_side.dim&&e._name!==s.model.entities_side._name&&e._name!==s.model.entities_geodomain._name&&(i=e)}),i){s.model.entities.getFilteredEntities();var a=s.model.entities_side.getFilteredEntities().filter(function(e){return!i.isShown(e)});a.length&&(i.showEntity(a),t=!0)}s.SIDEDIM!==s.model.entities_side.dim&&(t=!0),t||(s._updateIndicators(),s._updateSideTitles(),s.model._ready&&s.frame&&(s.smallMultiples?n.forEach(s.stackKeys,function(e,t){s._updateLimits(e,t)}):s._updateLimits(),s.resize(),s._updateEntities(!0),s._redrawLocked()))}},"change:entities_age.grouping":function(e){s.groupBy=+s.model.entities_age.grouping||1,s.model.time.step=s.groupBy,s.timeSteps=s.model.time.getAllSteps(),s.model.ui.chart.lockNonSelected=0,s.labels.text("")},"change:ui.chart.inpercent":function(e){s._readyOnce&&(s.smallMultiples?n.forEach(s.stackKeys,function(e,t){s._updateLimits(e,t)}):s._updateLimits(),s.resize(),s._updateEntities(),s._redrawLocked())},"change:ui.chart.flipSides":function(e){s._readyOnce&&(s.model.marker.side.switchSideState(),s._updateIndicators(),s._updateSideTitles(),s.resize(),s._updateEntities(!0),s._redrawLocked())},"change:ui.chart.lockNonSelected":function(e){if(s.lock=s.model.ui.chart.lockNonSelected,s.lock){if(!(s.stackKeys.length<=1||s.stackSkip||s.smallMultiples))return void(s.model.ui.chart.lockNonSelected=0);s.yearLocked.text(" "+s.lock),s._makeOutlines(s.frameAxisX,s.total)}else s.yearLocked.text(""),s.lockedPaths.text("")},"ready:marker":function(e){s._readyOnce&&s.updateStartEnd(s.model.time.value,s.groupBy)}},this._super(e,t),this.textEllipsis=new h(this),this.xScale=null,this.yScale=null,this.cScale=null,this.xAxis=o("bottom"),this.xAxisLeft=o("bottom"),this.yAxis=o("left"),this.xScales=[],this.SHIFTEDAGEDIM="s_age"},domReady:function(){this._super(),this.graphTemplate=(new XMLSerializer).serializeToString(d3.select(this.element).select(".vzb-bc-graph").node())},updateStartEnd:function(e,t){var i=this.model.time,s=i.formatDate(e),a=+i.formatDate(i.start),n=(+s-a)%t;return n!==i.offset&&(i.set("offset",n,!1,!1),this.timeSteps=i.getAllSteps(),i.set({startSelected:new Date(this.timeSteps[0]),endSelected:new Date(this.timeSteps[this.timeSteps.length-1])},!1,!1),!0)},getTimeOffset:function(e,t){var i=+e.formatDate(e.start);return(+ +e.formatDate(e.value)-i)%t},checkDimensions:function(){var e=this.model.entities.dim,t=this.model.entities_side.dim;this.colorUseConstant="constant"==this.model.marker.color.use,this.stackSkip=this.colorUseConstant||e==t,this.geoLess=e!==this.geoDomainDimension&&t!==this.geoDomainDimension,this.sideSkip="constant"==this.model.marker.side.use},readyOnce:function(){var e=this;this.el=this.el?this.el:d3.select(this.element),this.element=this.el,this.textEllipsis.setTooltip(this.element.select(".vzb-bc-tooltip")),this.interaction=this._interaction(),this.geoDomainDimension=this.model.entities_geodomain.getDimension(),this.geoDomainDefaultValue=this.model.entities_geodomain.show[this.geoDomainDimension].$in[0],this.xTitleEl=this.element.select(".vzb-bc-axis-x-title"),this.xInfoEl=this.element.select(".vzb-bc-axis-x-info"),this.yearEl=this.element.select(".vzb-bc-year-now"),this.year=new c(this.yearEl),this.year.setText(this.model.time.formatDate(this.model.time.value)),this.yearLocked=this.element.select(".vzb-bc-year-locked"),this.someSelected=this.model.marker.select.length>0,this.nonSelectedOpacityZero=!1,this.groupBy=+this.model.entities_age.grouping||1,this.on("resize",function(){e._updateEntities(),e._redrawLocked()}),this._attributeUpdaters={_newWidth:function(t,i){var s=void 0;return s=e.geoLess&&e.stackSkip&&e.sideSkip?(e.frameAxisX[t[e.AGEDIM]+e.ageShift]||{})[e.geoDomainDefaultValue]:e.geoLess&&e.stackSkip?e.colorUseConstant||t[e.PREFIXEDSIDEDIM]==t[e.PREFIXEDSTACKDIM]?(e.frameAxisX[t[e.PREFIXEDSIDEDIM]][t[e.AGEDIM]+e.ageShift]||{})[e.geoDomainDefaultValue]:0:e.geoLess&&e.sideSkip?(e.frameAxisX[t[e.PREFIXEDSTACKDIM]][t[e.AGEDIM]+e.ageShift]||{})[e.geoDomainDefaultValue]:e.stackSkip?e.colorUseConstant||t[e.PREFIXEDSIDEDIM]==t[e.PREFIXEDSTACKDIM]?e.frameAxisX[t[e.PREFIXEDSIDEDIM]][t[e.AGEDIM]+e.ageShift]:0:e.sideSkip?e.frameAxisX[t[e.PREFIXEDSTACKDIM]][t[e.AGEDIM]+e.ageShift]:e.frameAxisX[t[e.PREFIXEDSTACKDIM]][t[e.PREFIXEDSIDEDIM]][t[e.AGEDIM]+e.ageShift],t.width_=s?e.xScale(s):0,e.ui.chart.inpercent&&(t.width_/=e.total[t.i][t[e.PREFIXEDSIDEDIM]]),t.width_},_newX:function(e,t){var i=this.previousSibling;if(i){var s=d3.select(i).datum();e.x_=s.x_+s.width_}return e.x_}}},ready:function(){if(this.model.marker._ready){var e=this;this.lock=e.model.ui.chart.lockNonSelected,this.timeSteps=this.model.time.getAllSteps(),this.shiftScale=d3.scaleLinear().domain([this.timeSteps[0],this.timeSteps[this.timeSteps.length-1]]).range([0,this.timeSteps.length-1]),this.domains=[],this.SIDEDIM=this.model.entities_side.getDimension(),this.PREFIXEDSIDEDIM="side_"+this.SIDEDIM,this.STACKDIM=this.model.entities.getDimension(),this.PREFIXEDSTACKDIM="stack_"+this.STACKDIM,this.AGEDIM=this.model.entities_age.getDimension(),this.TIMEDIM=this.model.time.getDimension(),this.checkDimensions(),this.updateUIStrings(),this._updateIndicators(),this.smallMultiples="smallMultiples"===(this.model.ui.chart||{}).mode&&!this.stackSkip&&this.stackKeys.length>1,this._updateGraphs(this.smallMultiples?this.stackKeys:["undefined"]),this._updateSideTitles(),this.lock&&(this.stackKeys.length<=1||this.stackSkip||this.smallMultiples)?this.yearLocked.text(""+this.lock):e.model.ui.chart.lockNonSelected=0,this.model.ui.chart.set("lockUnavailable",!(this.stackKeys.length<=1||this.stackSkip||this.smallMultiples),!1,!1),this.frame=null,this.frameAllColor={},this.model.marker.getFrame(e.model.time.value,function(t,i){e.frame=t,e.frameAxisX=t.axis_x;var s={};s[i]=t,e.maxLimits={},e.inpercentMaxLimits={},e.totals={},e.smallMultiples?n.forEach(e.stackKeys,function(t,i){e._createLimits(s,t),e._updateLimits(t,i)}):(e._createLimits(s),e._updateLimits()),e._getLimits(),e.resize(),e.model.marker_allpossible.getFrame(e.model.time.value,function(t){e.frameAllColor=t.color||{},e._updateEntities(!0),e.updateBarsOpacity()})})}},_updateGraphs:function(e){var t=this,i=this.element.selectAll(".vzb-bc-graph").data(e);i.exit().remove(),i.enter().append(function(){return this.ownerDocument.importNode((new DOMParser).parseFromString(t.graphTemplate,"application/xml").documentElement,!0)}),this.element.select(".vzb-bc-tooltip").raise(),this.graph=this.element.selectAll(".vzb-bc-graph"),this.yAxisEl=this.graph.select(".vzb-bc-axis-y"),this.xAxisEl=this.graph.select(".vzb-bc-axis-x"),this.xAxisLeftEl=this.graph.select(".vzb-bc-axis-x-left"),this.yTitleEl=this.graph.select(".vzb-bc-axis-y-title"),this.title=this.graph.select(".vzb-bc-title"),this.titleRight=this.graph.select(".vzb-bc-title-right"),this.titleCenter=this.graph.select(".vzb-bc-title-center"),this.barsCrop=this.graph.select(".vzb-bc-bars-crop"),this.lockedCrop=this.graph.select(".vzb-bc-locked-crop"),this.labelsCrop=this.graph.select(".vzb-bc-labels-crop"),this.bars=this.barsCrop.select(".vzb-bc-bars"),this.lockedPaths=this.lockedCrop.select(".vzb-bc-paths"),this.labels=this.labelsCrop.select(".vzb-bc-labels")},_getLimits:function(){var e=this;return function(){var t=e.groupBy;e.model.marker.getFrame(null,function(i){i&&t===e.groupBy&&(e.smallMultiples?n.forEach(e.stackKeys,function(t,s){e._createLimits(i,t),e._updateLimits(t,s)}):(e._createLimits(i),e._updateLimits()),e.resize(),e._updateEntities(!0),e.updateBarsOpacity(),e._redrawLocked())})}()},_redrawLocked:function(){var e=this,t=this;this.lock&&this.model.marker.getFrame(this.model.time.parse(""+this.lock),function(i,s){if(i){t.lockedPaths.text("");var a={};e.ui.chart.inpercent&&(e.smallMultiples?n.forEach(e.stackKeys,function(t,i){a[i]=e.totals[t][s]?e.totals[t][s]:e._interpolateBetweenTotals(e.timeSteps,e.totals[t],s)}):a[0]=e.totals[s]?e.totals[s]:e._interpolateBetweenTotals(e.timeSteps,e.totals,s),!a[0])||t._makeOutlines(i.axis_x,a)}})},interpolateDiagonal:function(e,t,i){var s=this,a={},r=void 0,l=void 0,o=void 0,c=void 0,h=this.groupBy;return this.geoLess&&this.stackSkip&&this.sideSkip?(r=a,n.forEach(s.ageKeys,function(a){c=+a+h,l=e[a][s.geoDomainDefaultValue],o=(t[c]||{})[s.geoDomainDefaultValue]||0,r[c]={},r[c][s.geoDomainDefaultValue]=null==l||null==o?null:l+(o-l)*i}),r[0]={},r[0][s.geoDomainDefaultValue]=t[0][s.geoDomainDefaultValue]||0):this.stackSkip&&this.geoLess?n.forEach(s.sideKeys,function(d){r=a[d]={},n.forEach(s.ageKeys,function(a){c=+a+h,l=e[d][a][s.geoDomainDefaultValue],o=(t[d][c]||{})[s.geoDomainDefaultValue]||0,r[c]={},r[c][s.geoDomainDefaultValue]=null==l||null==o?null:l+(o-l)*i}),r[0]={},r[0][s.geoDomainDefaultValue]=t[d][0][s.geoDomainDefaultValue]||0}):this.stackSkip?n.forEach(s.sideKeys,function(d){r=a[d]={},n.forEach(s.ageKeys,function(s){c=+s+h,l=e[d][s],o=t[d][c]||0,r[c]=null==l||null==o?null:l+(o-l)*i}),r[0]=t[d][0]||0}):this.sideSkip&&this.geoLess?n.forEach(s.stackKeys,function(d){r=a[d]={},n.forEach(s.ageKeys,function(a){c=+a+h,l=e[d][a][s.geoDomainDefaultValue],o=(t[d][c]||{})[s.geoDomainDefaultValue]||0,r[c]={},r[c][s.geoDomainDefaultValue]=null==l||null==o?null:l+(o-l)*i}),r[0]={},r[0][s.geoDomainDefaultValue]=t[d][0][s.geoDomainDefaultValue]||0}):this.sideSkip?n.forEach(s.stackKeys,function(d){r=a[d]={},n.forEach(s.ageKeys,function(s){c=+s+h,l=e[d][s],o=t[d][c]||0,r[c]=null==l||null==o?null:l+(o-l)*i}),r[0]=t[d][0]||0}):n.forEach(s.stackKeys,function(d){a[d]={},n.forEach(s.sideKeys,function(m){r=a[d][m]={},n.forEach(s.ageKeys,function(s){c=+s+h,l=e[d][m][s],o=t[d][m][c]||0,r[c]=null==l||null==o?null:l+(o-l)*i}),r[0]=t[d][m][0]||0})}),a},updateUIStrings:function(){var e=this;this.translator=this.model.locale.getTFunction(),this.xTitleEl.selectAll("text").data([0]).enter().append("text").text(e.translator("popbyage/title"));var t=this.model.marker.axis_x.getConceptprops();n.setIcon(this.xInfoEl,d).select("svg").attr("width","0px").attr("height","0px").style("opacity",Number(Boolean(t.description||t.sourceLink))),this.xInfoEl.on("click",function(){e.parent.findChildByName("gapminder-datanotes").pin()}),this.xInfoEl.on("mouseover",function(){if(!e.model.time.dragging){var t=this.getBBox(),i=n.makeAbsoluteContext(this,this.farthestViewportElement)(t.x-10,t.y+t.height+10),s=e.root.element.getBoundingClientRect(),a=e.element.node().getBoundingClientRect();e.parent.findChildByName("gapminder-datanotes").setHook("axis_x").show().setPos(i.x+a.left-s.left,i.y)}}),this.xInfoEl.on("mouseout",function(){e.model.time.dragging||e.parent.findChildByName("gapminder-datanotes").hide()})},_updateIndicators:function(){var e=this,t=this;this.duration=this.model.time.delayAnimations,this.yScale=this.model.marker.axis_y.getScale(),this.xScale=this.model.marker.axis_x.getScale(),this.yAxis.tickFormat(t.model.marker.axis_y.getTickFormatter()),this.xAxis.tickFormat(t.model.marker.axis_x.getTickFormatter()),this.xAxisLeft.tickFormat(t.model.marker.axis_x.getTickFormatter());var i=this.SIDEDIM,s=this.STACKDIM,a=this.AGEDIM,r=this.groupBy,l=this.model.marker.getKeys(a),o=[];o=l.map(function(e){return e[a]}),this.ageKeys=o,this.shiftedAgeKeys=this.timeSteps.map(function(e,t){return-t*r}).slice(1).reverse().concat(o),this.sideItems=this.model.marker.label_side.getItems();var c=[];if(!n.isEmpty(this.sideItems)){var h=!!this.model.marker.side.getEntity().show[i];if(c=this.model.marker.getKeys(i).filter(function(t){return!h||e.model.marker.side.getEntity().isShown(t)}).map(function(e){return e[i]}),c.length>2&&(c.length=2),c.length>1){var d=this.ui.chart.flipSides?d3.ascending:d3.descending;c.sort(d)}}c.length||c.push("undefined"),this.sideKeys=c;var m=this.model.marker.getKeys(s),u=m.map(function(e){return e[s]}),p=n.keys(this.model.marker.color.getPalette()).reduce(function(e,t){return-1!=u.indexOf(t)&&e.push(t),e},[]);p.length!=u.length&&(p=u.reduce(function(e,t){return-1==e.indexOf(t)&&e.push(t),e},p)),this.stackKeys=p,this.stackItems=this.model.marker.label_stack.getItems(),this.stacked=this.ui.chart.stacked&&"constant"!=this.model.marker.color.use&&this.model.entities.getDimension(),this.twoSided=this.sideKeys.length>1,this.twoSided&&(this.xScaleLeft=this.xScale.copy()),this.cScale=this.model.marker.color.getScale(),this.markers=this.model.marker.getKeys(a)},_updateSideTitles:function(){var e=this,t=this.sideItems;if(this.titleRight.classed("vzb-hidden",!this.twoSided),this.twoSided)this.title.text(t[this.sideKeys[1]]).call(this.textEllipsis.clear),this.titleRight.text(t[this.sideKeys[0]]).call(this.textEllipsis.clear);else{var i=this.sideKeys.length&&t[this.sideKeys[0]]?t[this.sideKeys[0]]:"";this.title.text(i).call(this.textEllipsis.clear)}if(this.smallMultiples)this.titleCenter.call(this.textEllipsis.clear).each(function(t,i){d3.select(this).text(e.stackItems[e.stackKeys[i]])});else{var s=this.stackKeys.length&&this.stackItems[this.stackKeys[0]]?this.stackItems[this.stackKeys[0]]:"";this.titleCenter.text(s).call(this.textEllipsis.clear)}},_createLimits:function(e,t){var i=this,a=t?[t]:this.stackKeys,r=Object.keys(this.model.marker.side.getNestedItems([this.SIDEDIM]));r.length||r.push("undefined");var l={},o={},c={},h=this.geoLess,d=this.geoDomainDefaultValue;r.forEach(function(e){c[e]=[],o[e]=[]}),i.stackSkip&&i.sideSkip?n.forEach(e,function(e,t){var s=e.axis_x;l[t]={};var a=0,h=[];n.forEach(i.ageKeys,function(e){var t=0;s[e]&&(t+=s[e][d],a+=t),h.push(t)}),l[t][r[0]]=a;var m=Math.max.apply(Math,h);o[r[0]].push(m/a),c[r[0]].push(m)}):i.sideSkip?n.forEach(e,function(e,t){var s=e.axis_x;l[t]={};var m=0,u=[];n.forEach(i.ageKeys,function(e){var t=0;n.forEach(a,function(i){s[i]&&s[i][e]&&(t+=h?s[i][e][d]:s[i][e],m+=t)}),u.push(t)}),l[t][r[0]]=m;var p=Math.max.apply(Math,u);o[r[0]].push(p/m),c[r[0]].push(p)}):i.stackSkip?n.forEach(e,function(e,t){var s=e.axis_x;l[t]={},n.forEach(r,function(e){var a=0,r=[];n.forEach(i.ageKeys,function(t){var i=0;s[e]&&s[e][t]&&(i+=h?s[e][t][d]:s[e][t],a+=i),r.push(i)}),l[t][e]=a;var m=Math.max.apply(Math,r);o[e].push(m/a),c[e].push(m)})}):n.forEach(e,function(e,t){var s=e.axis_x;l[t]={},n.forEach(r,function(e){var r=0,m=[];n.forEach(i.ageKeys,function(t){var i=0;n.forEach(a,function(a){s[a][e]&&s[a][e][t]&&(i+=h?s[a][e][t][d]:s[a][e][t],r+=i)}),m.push(i)}),l[t][e]=r;var u=Math.max.apply(Math,m);o[e].push(u/r),c[e].push(u)})}),t?(this.maxLimits[t]={},this.inpercentMaxLimits[t]={},r.forEach(function(e){i.maxLimits[t][e]=Math.max.apply(Math,s(c[e])),i.inpercentMaxLimits[t][e]=Math.max.apply(Math,s(o[e]))}),this.totals[t]=l):(r.forEach(function(e){i.maxLimits[e]=Math.max.apply(Math,s(c[e])),i.inpercentMaxLimits[e]=Math.max.apply(Math,s(o[e]))}),this.totals=l)},_updateLimits:function(e,t){var i=this,a=this.model.marker.axis_x;this.smallMultiples&&e?this.ui.chart.inpercent?this.domains[t]=[0,Math.max.apply(Math,s(this.sideKeys.map(function(t){return i.inpercentMaxLimits[e][t]})))]:this.domains[t]=null!=a.domainMin&&null!=a.domainMax?[+a.domainMin,+a.domainMax]:[0,Math.max.apply(Math,s(this.sideKeys.map(function(t){return i.maxLimits[e][t]})))]:this.ui.chart.inpercent?this.domains[0]=[0,Math.max.apply(Math,s(this.sideKeys.map(function(e){return i.inpercentMaxLimits[e]})))]:this.domains[0]=null!=a.domainMin&&null!=a.domainMax?[+a.domainMin,+a.domainMax]:[0,Math.max.apply(Math,s(this.sideKeys.map(function(e){return i.maxLimits[e]})))],this.xScale.domain(this.domains[0]),this.xScaleLeft&&this.xScaleLeft.domain(this.xScale.domain()),this.domainScalers=this._calcDomainScalers()},_calcDomainScalers:function(){var e=this.domains.map(function(e){return e[1]-e[0]}),t=e.reduce(function(e,t){return e+t});return e.map(function(e){return e/t})},_interpolateBetweenTotals:function(e,t,i){var s=d3.bisectLeft(e,i),a=(i-e[s-1])/(e[s]-e[s-1]),r={};return n.forEach(this.sideKeys,function(i){r[i]=t[e[s]][i]*a+t[e[s-1]][i]*(1-a)}),r},_updateEntities:function(e){var t=this,i=this,s=this.model.time,a=this.SIDEDIM,r=this.PREFIXEDSIDEDIM,l=this.AGEDIM,o=this.STACKDIM,c=this.PREFIXEDSTACKDIM,h=(this.TIMEDIM,s.playing?s.delayAnimations:0),d=this.groupBy;this.ui.chart.inpercent&&(this.total={},this.smallMultiples?n.forEach(this.stackKeys,function(e,i){t.total[i]=t.totals[e][s.value]?t.totals[e][s.value]:t._interpolateBetweenTotals(t.timeSteps,t.totals[e],s.value)}):this.total[0]=this.totals[s.value]?this.totals[s.value]:this._interpolateBetweenTotals(this.timeSteps,this.totals,s.value));var m=this.yScale.domain(),u=d3.bisectLeft(this.timeSteps,s.value),p=this.SHIFTEDAGEDIM,f=this.markers.map(function(e){var t={};return t[l]=t[p]=+e[l],t[l]-=u*d,t}),g=f.slice(0),v={};v[p]=f.length*d,v[l]=v[p]-u*d,this.ageShift=u*d,u&&g.push(v);var b=i.stacked?i.stackKeys:[i.geoDomainDefaultValue],x=this.geoDomainDefaultValue,k=this.geoDomainDimension;this.barsData=[];var y=this.bars.selectAll(".vzb-bc-bar").data(function(e,s){return i.barsData[s]=g.map(function(e){var t={};return t[l]=e[l],t[p]=e[p],t.i=s,t}),t.barsData[s]},function(e){return e[l]});y.exit().remove();var S=this.oneBarHeight,D=this.barHeight,_=this.firstBarOffsetY;y=y.enter().append("g").attr("class",function(e){return"vzb-bc-bar vzb-bc-bar-"+e[l]}).attr("transform",function(e,t){return"translate(0,"+(_-(e[p]-m[0]-d)*S)+")"}).merge(y);var E=y.selectAll(".vzb-bc-side").data(function(e,t){return e.side=i.sideKeys.map(function(t){var i={};return i[l]=e[l],i[p]=e[p],i[r]=t,i[a]=t,i.i=e.i,i}),e.side},function(e){return e[r]});E.exit().remove(),E=E.enter().append("g").attr("class",function(e,t){return"vzb-bc-side vzb-bc-side-"+(!t!=!i.twoSided?"right":"left")}).attr("transform",function(e,t){return t?"scale(-1,1) translate("+i.activeProfile.centerWidth+",0)":""}).merge(E),e&&E.attr("class",function(e,t){return"vzb-bc-side vzb-bc-side-"+(!t!=!i.twoSided?"right":"left")}).attr("transform",function(e,t){return t?"scale(-1,1) translate("+i.activeProfile.centerWidth+",0)":""});var M=this._attributeUpdaters,w=E.selectAll(".vzb-bc-stack").data(function(e){return e.stack=(i.smallMultiples?[b[e.i]]:b).map(function(t){var i={};return i[k]=x,i[l]=e[l],i[p]=e[p],i[a]=e[a],i[o]=t,i[r]=e[r],i[c]=t,i.x_=0,i.width_=0,i.i=e.i,i}),e.stack},function(e){return e[c]});w.exit().remove(),w=w.enter().append("rect").attr("class",function(e,t){return"vzb-bc-stack vzb-bc-stack-"+t+(i.highlighted?" vzb-dimmed":"")}).attr("y",0).attr("height",D-(d>2?1:0)).attr("fill",function(e){return i.cScale(i.frameAllColor[e[c]]||e[c])}).attr("x",M._newX).on("mouseover",i.interaction.mouseover).on("mouseout",i.interaction.mouseout).on("click",i.interaction.click).onTap(i.interaction.tap).merge(w),e&&w.attr("class",function(e,t){return"vzb-bc-stack vzb-bc-stack-"+t+(i.highlighted?" vzb-dimmed":"")}).attr("fill",function(e){return i.cScale(i.frameAllColor[e[c]]||e[c])}).order();var I=g[0][p]-g[0][l]-this.shiftScale(s.value)*d;if(h){var z=d3.transition().duration(h).ease(d3.easeLinear);y.transition(z).attr("transform",function(e,t){return"translate(0,"+(_-(e[p]-m[0]-I)*S)+")"}),w.transition(z).attr("width",M._newWidth).attr("x",M._newX)}else y.interrupt().attr("transform",function(e,t){return"translate(0,"+(_-(e[p]-m[0]-I)*S)+")"}),w.interrupt().attr("width",M._newWidth).attr("x",M._newX);this.ageBars=y,this.sideBars=E,this.stackBars=w,this.entityLabels=this.labels.selectAll(".vzb-bc-label text").data(f),this.entityLabels.exit().remove(),this.entityLabels=this.entityLabels.enter().append("g").attr("class",function(e){return"vzb-bc-label vzb-bc-label-"+e[p]}).append("text").attr("class","vzb-bc-age").merge(this.entityLabels).each(function(e,t){var s=i.translator("popbyage/yearOlds"),a=parseInt(e[p],10);if(d>1){var n=a+d-1;a=a+"-to-"+(n>m[1]?m[1]:n)}e.text=a+s}).attr("y",function(e,t){return _-(e[p]-m[0])*S-10}).attr("dy",function(e,t){return e[p]+d>m[1]?(d-m[1]+e[p])/d*D:0}),this.year.setText(this.model.time.formatDate(s.value),this.duration)},_makeOutlines:function(e,t){var i=this,s=this,a=n.unique(this.model.marker._getAllDimensions({exceptType:"time"}));a.forEach(function(e,t){e===s.AGEDIM&&(a[t]=s.SHIFTEDAGEDIM)});var r=this.groupBy,l=this.barHeight,o=this.firstBarOffsetY+l,c=d3.line().curve(d3.curveStepBefore).x(function(e){return e.x}).y(function(e,t){return o-l*t-(r>2?1:0)}),h=this.barsData.map(function(r,l){var o=[0,0];return i.sideKeys.map(function(i,c){s.stackSkip&&r[0].side[c].stack.forEach(function(e,t){e[s.PREFIXEDSIDEDIM]===e[s.PREFIXEDSTACKDIM]&&(o[c]=t)});var h={};return h.d=r.map(function(i){var r={},h=n.getValueMD(i.side[c].stack[o[c]],e,a);return r.x=h?s.xScale(h):0,s.ui.chart.inpercent&&(r.x/=t[l][i.side[c].stack[o[c]][s.PREFIXEDSIDEDIM]]),r}),h})}),d=this.bars.selectAll(".vzb-bc-side-left").selectAll(".vzb-bc-stack-0").data();s.cScale(d[0][this.PREFIXEDSTACKDIM]),this.model.marker.color.getColorShade({colorID:s.frameAllColor[d[0][this.PREFIXEDSTACKDIM]]||d[0][this.PREFIXEDSTACKDIM],shadeID:"shade"});this.lockedPaths.each(function(e,t){var i=d3.select(this).selectAll("path").data(h[t]);i.exit().remove(),i.enter().append("path").merge(i).attr("d",function(e,t){return c(e.d)}).attr("stroke","#000").attr("transform",function(e,t){return t?"scale(-1,1) translate("+s.activeProfile.centerWidth+",0)":""})})},_setYear:function(e){var t=this.model.time.formatDate(e);return function(){d3.select(this).text(t)}},_interaction:function(){var e=this;return{mouseover:function(t,i){n.isTouchDevice()||(e.model.marker.highlightMarker(t),e._showLabel(t))},mouseout:function(t,i){n.isTouchDevice()||e.model.marker.clearHighlighted()},click:function(t,i){n.isTouchDevice()||e.model.marker.selectMarker(t)},tap:function(t){d3.event.stopPropagation(),e.model.marker.selectMarker(t)}}},_highlightBars:function(e){var t=this;t.someHighlighted=t.model.marker.highlight.length>0,t.updateBarsOpacity(),t.someHighlighted||t.labels.selectAll(".vzb-hovered").classed("vzb-hovered",!1)},_showLabel:function(e){var t=this,i=t.ui.chart.inpercent?d3.format(".1%"):t.model.marker.axis_x.getTickFormatter(),s=t.SIDEDIM,a=(t.AGEDIM,t.STACKDIM),n=t.sideKeys.indexOf(e[s])>0,r=7;if(!this.smallMultiples){r+=+d3.select(d3.event.target).attr("x")}var l=t.labels.select(".vzb-bc-label-"+e.s_age).nodes()[e.i],o=d3.select(l);o.selectAll(".vzb-bc-age").text(function(s){var n=t.stackKeys.length>1?t.stackItems[e[a]]:s.text;n=t.twoSided?n:s.text+" "+t.stackItems[e[a]];var r=t.xScale.invert(e.width_);return n+": "+i(r)}).attr("x",n?-this.activeProfile.centerWidth-r:r).attr("dx",0).classed("vzb-text-left",n),o.classed("vzb-prehovered",!0);var c=l.getBBox(),h=t.element.node().getScreenCTM().inverse().multiply(l.getScreenCTM()),d=Math.max(-c.x-h.e,0),m=Math.min(t.fullWidth-c.x-c.width-h.e,0);o.selectAll(".vzb-bc-age").attr("dx",d+m),o.classed("vzb-prehovered",!1),o.classed("vzb-hovered",!0)},getGraphWidth:function(e,t){var i=e||this.width;if(this.smallMultiples){var s=this.graph.data().length;return i-=t*(s-1),this.domainScalers.map(function(e){return i*e})}return[i]},getYAxisVisibility:function(e){return 0==e},presentationProfileChanges:{medium:{margin:{top:120,right:50,left:80,bottom:60,between:30},infoElHeight:32},large:{margin:{top:120,right:70,left:100,bottom:70,between:30},infoElHeight:32}},profiles:{small:{margin:{top:50,right:20,left:40,bottom:20,between:10},infoElHeight:16,centerWidth:2,titlesSpacing:5},medium:{margin:{top:70,right:40,left:60,bottom:20,between:20},infoElHeight:20,centerWidth:2,titlesSpacing:10},large:{margin:{top:80,right:60,left:60,bottom:30,between:20},infoElHeight:22,centerWidth:2,titlesSpacing:20}},resize:function(){var e=this,t=this;this.activeProfile=this.getActiveProfile(this.profiles,this.presentationProfileChanges);var i=this.activeProfile.margin,s=this.activeProfile.infoElHeight,a=this.sideSkip?.23*i.top:0;if(this.height=parseInt(this.element.style("height"),10)+a-i.top-i.bottom||0,this.width=parseInt(this.element.style("width"),10)-i.left-i.right||0,this.fullWidth=parseInt(this.element.style("width"),10)||0,this.graphWidth=this.getGraphWidth(this.width,i.between),this.height<=0||this.width<=0)return n.warn("Pop by age resize() abort: vizabi container is too little or has display:none");var r=0,l=0,o=this.graphWidth.map(function(e){return l=r,r+=e,l});this.graph.attr("transform",function(e,t){return"translate("+Math.round(i.left+i.between*t+o[t])+","+(i.top-a)+")"}),this.barsCrop.attr("width",function(t,i){return e.graphWidth[i]}).attr("height",Math.max(0,this.height)),this.lockedCrop.attr("width",function(t,i){return e.graphWidth[i]}).attr("height",Math.max(0,this.height)),this.labelsCrop.attr("width",function(t,i){return e.graphWidth[i]}).attr("height",Math.max(0,this.height));var c=this.groupBy,h=this.yScale.domain();this.oneBarHeight=this.height/(h[1]-h[0]);var d=this.barHeight=this.oneBarHeight*c;this.firstBarOffsetY=this.height-this.barHeight,this.stackBars&&this.stackBars.attr("height",d-(c>2?1:0)),this.sideBars&&this.sideBars.attr("transform",function(e,i){return i?"scale(-1,1) translate("+t.activeProfile.centerWidth+",0)":""}),this.yScale.range([this.height,0]);var m=this.yScale.copy();c>2&&(m.ticks=function(){return d3.range(h[0],h[1]+1,c)}),this.yAxisEl.each(function(e,s){t.yAxis.scale(m.range([t.height,0])).tickSizeInner(-t.graphWidth[s]).tickSizeOuter(0).tickPadding(6).tickSizeMinor(-t.graphWidth[s],0).labelerOptions({scaleType:t.model.marker.axis_y.scaleType,toolMargin:i,limitMaxTickNumber:19,fitIntoScale:"optimistic",isPivotAuto:!1}),d3.select(this).attr("transform","translate(0,0)").call(t.yAxis).classed("vzb-bc-axis-text-hidden",!t.getYAxisVisibility(s))}),this.yAxisEl.select(".tick line").classed("vzb-hidden",!0);var u=t.twoSided?.5*(t.graphWidth[0]-t.activeProfile.centerWidth):t.graphWidth[0];this.xScale.range([0,u]);var p=this.ui.chart.inpercent?d3.format(".1%"):this.model.marker.axis_x.getTickFormatter(),f=[];this.xAxisEl.each(function(e,s){var a=t.twoSided?.5*(t.graphWidth[s]-t.activeProfile.centerWidth):t.graphWidth[s];f[s]=t.twoSided?.5*(t.graphWidth[s]+t.activeProfile.centerWidth):0,t.xAxis.scale(t.xScale.copy().domain(t.domains[s]).range([0,a])).tickFormat(p).tickSizeInner(-t.height).tickSizeOuter(0).tickPadding(6).tickSizeMinor(-t.height,0).labelerOptions({scaleType:t.model.marker.axis_x.scaleType,toolMargin:i,limitMaxTickNumber:6}),d3.select(this).attr("transform","translate("+f[s]+","+t.height+")").call(t.xAxis);var n=d3.select(this).selectAll(".tick text"),r=n.size();if(r>0){var l=n.node().getBBox();r>1&&d3.select(n.node()).attr("dx",(t.twoSided?.5*-t.activeProfile.centerWidth:0)-.5*l.width-l.x),n.classed("vzb-invisible",t.graphWidth[s]+i.between<l.width)}}),this.xAxisEl.select(".tick line").classed("vzb-hidden",!0),this.xAxisLeftEl.classed("vzb-hidden",!this.twoSided),this.twoSided&&(this.xScaleLeft.range([.5*(this.graphWidth[0]-this.activeProfile.centerWidth),0]),this.xAxisLeftEl.each(function(e,s){t.xAxisLeft.scale(t.xScaleLeft.copy().domain(t.domains[s]).range([.5*(t.graphWidth[s]-t.activeProfile.centerWidth),0])).tickFormat(p).tickSizeInner(-t.height).tickSizeOuter(0).tickPadding(6).tickSizeMinor(-t.height,0).labelerOptions({scaleType:t.model.marker.axis_x.scaleType,toolMargin:i,limitMaxTickNumber:6}),d3.select(this).attr("transform","translate(0,"+t.height+")").call(t.xAxisLeft);var a=d3.select(this).selectAll(".tick").classed("vzb-hidden",!1).nodes();d3.select(a[a.length-1]).classed("vzb-hidden",!0)}));var g=this.model.locale.isRTL();this.bars.attr("transform",function(e,t){return"translate("+f[t]+",0)"}),this.lockedPaths.attr("transform",function(e,t){return"translate("+f[t]+",0)"}),this.labels.attr("transform",function(e,t){return"translate("+f[t]+",0)"});var v=function(i){return f[i]-e.activeProfile.titlesSpacing<0?.5*t.activeProfile.centerWidth:t.activeProfile.titlesSpacing};if(this.title.attr("x",function(i,s){return e.twoSided?f[s]-.5*t.activeProfile.centerWidth-v(s):0}).style("text-anchor",this.twoSided?"end":"").attr("y",.275*-i.top-a).each(function(e,s){t.textEllipsis.wrap(this,t.twoSided?.5*(t.graphWidth[s]+i.between-v(s)):t.graphWidth[s]+i.between)}),this.titleRight.attr("x",function(e,i){return f[i]-.5*t.activeProfile.centerWidth+v(i)}).attr("y",.275*-i.top-a).each(function(e,s){t.textEllipsis.wrap(this,.5*(t.graphWidth[s]+i.between-v(s)))}),this.titleCenter.attr("x",function(i,s){return e.twoSided?f[s]-.5*t.activeProfile.centerWidth:.5*t.graphWidth[s]}).style("text-anchor","middle").attr("y",.035*(-i.top-a)).each(function(e,s){t.textEllipsis.wrap(this,t.graphWidth[s]+i.between)}),this.xTitleEl.style("font-size",s+"px").attr("transform","translate("+(g?i.left+this.width:.4*i.left)+","+.35*i.top+")"),this.xInfoEl.select("svg").node()){var b=this.xTitleEl.node().getBBox(),x=n.transform(this.xTitleEl.node()),k=g?b.x+x.translateX-1.4*s:b.x+x.translateX+b.width+.4*s;this.xInfoEl.select("svg").attr("width",s+"px").attr("height",s+"px"),this.xInfoEl.attr("transform","translate("+k+","+(x.translateY-.8*s)+")")}var y={topOffset:this.ui.presentation?25:"small"===this.getLayoutProfile()?10:15,rightOffset:"small"===this.getLayoutProfile()?5:10,xAlign:"right",yAlign:"top",heightRatio:(this.ui.presentation,.5)};this.year.setConditions(y).resize(this.fullWidth,i.top),this.yearLocked.attr("x",g?.4*i.left:this.width+i.left+i.right-10).attr("y",(i.top-a)*(this.getLayoutProfile(),1.27))},updateBarsOpacity:function(e){var t=this,i=this.model.marker.opacityHighlightDim,s=this.model.marker.opacityRegular,a=this.model.marker.opacitySelectDim,n=t.model.marker.opacitySelectDim<.01,r=n!=this.nonSelectedOpacityZero,l=this.someSelected,o=this.someHighlighted;this.stackBars.each(function(e){var c=!!l&&t.model.marker.isSelected(e),h=!!o&&t.model.marker.isHighlighted(e),d=d3.select(this);d.style("opacity",h?1:l?c?1:a:o?i:s).style("stroke",c?"#333":null).style("y",c?"0.5px":null),r&&d.style("pointer-events",l&&n&&!c?"none":"visible")}),this.nonSelectedOpacityZero=t.model.marker.opacitySelectDim<.01}});t.default=m},function(e,t){},function(e,t){e.exports='\x3c!-- PopByAge Component --\x3e\n<svg class="vzb-popbyage">\n    <g class="vzb-bc-header">\n        <g class="vzb-bc-axis-x-title"></g>\n        <g class="vzb-bc-axis-x-info vzb-noexport"></g>\n        <g class="vzb-bc-year-now"></g>\n        <text class="vzb-bc-year vzb-bc-year-locked"></text>\n    </g>\n    <g class="vzb-bc-graph">\n        <text class="vzb-bc-title"></text>\n        <text class="vzb-bc-title vzb-bc-title-right"></text>\n        <text class="vzb-bc-title vzb-bc-title-center"></text>\n\n        <g class="vzb-bc-axis-y-title"></g>\n\n        <g class="vzb-bc-axis-y"></g>\n\n        <svg class="vzb-bc-bars-crop">\n            <g class="vzb-bc-bars"></g>\n        </svg>\n        \n        <svg class="vzb-bc-locked-crop">\n            <g class="vzb-bc-paths"></g>\n        </svg>\n\n        <g class="vzb-bc-axis-x"></g>\n        <g class="vzb-bc-axis-x vzb-bc-axis-x-left"></g>\n\n        <svg class="vzb-bc-labels-crop">\n            <g class="vzb-bc-labels"></g>\n        </svg>\n\n        <g class="vzb-bc-axis-labels">\n            \x3c!-- <text class="vzb-x_label">Lifespan</text>\n                  <text class="vzb-y_label">Lifespan</text> --\x3e\n        </g>\n    </g>\n    <g class="vzb-bc-tooltip vzb-hidden">\n        <rect class="vzb-tooltip-border"></rect>\n        <text class="vzb-tooltip-text"></text>\n    </g>\n</svg>\n'},function(e,t,i){e.exports=i(0)}]);
//# sourceMappingURL=popbyage.min.js.map