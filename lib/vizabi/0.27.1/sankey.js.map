{"version":3,"sources":["webpack:///webpack/bootstrap 17813d7041f98164c20b","webpack:///./~/d3-sankey/~/d3-shape/src/constant.js","webpack:///./~/d3-array/src/ascending.js","webpack:///./~/d3-array/src/number.js","webpack:///./~/d3-path/index.js","webpack:///./~/d3-sankey/~/d3-shape/src/math.js","webpack:///./~/d3-sankey/~/d3-shape/src/offset/none.js","webpack:///./~/d3-sankey/~/d3-shape/src/order/none.js","webpack:///./~/d3-sankey/~/d3-shape/src/curve/basis.js","webpack:///./~/d3-sankey/~/d3-shape/src/curve/cardinal.js","webpack:///./~/d3-sankey/~/d3-shape/src/curve/linear.js","webpack:///./~/d3-sankey/~/d3-shape/src/noop.js","webpack:///./~/d3-array/src/quantile.js","webpack:///./~/d3-collection/src/map.js","webpack:///./~/d3-sankey/~/d3-shape/src/curve/catmullRom.js","webpack:///./~/d3-sankey/~/d3-shape/src/line.js","webpack:///./~/d3-sankey/~/d3-shape/src/order/ascending.js","webpack:///./~/d3-sankey/~/d3-shape/src/point.js","webpack:///./~/d3-array/index.js","webpack:///./~/d3-array/src/array.js","webpack:///./~/d3-array/src/bisect.js","webpack:///./~/d3-array/src/bisector.js","webpack:///./~/d3-array/src/deviation.js","webpack:///./~/d3-array/src/extent.js","webpack:///./~/d3-array/src/min.js","webpack:///./~/d3-array/src/pairs.js","webpack:///./~/d3-array/src/range.js","webpack:///./~/d3-array/src/threshold/sturges.js","webpack:///./~/d3-array/src/ticks.js","webpack:///./~/d3-array/src/transpose.js","webpack:///./~/d3-array/src/variance.js","webpack:///./~/d3-sankey/~/d3-shape/src/area.js","webpack:///./~/d3-sankey/~/d3-shape/src/array.js","webpack:///./~/d3-sankey/~/d3-shape/src/curve/cardinalClosed.js","webpack:///./~/d3-sankey/~/d3-shape/src/curve/cardinalOpen.js","webpack:///./~/d3-sankey/~/d3-shape/src/curve/radial.js","webpack:///./~/d3-sankey/~/d3-shape/src/lineRadial.js","webpack:///./~/d3-sankey/~/d3-shape/src/pointRadial.js","webpack:///./~/d3-sankey/~/d3-shape/src/symbol/circle.js","webpack:///./~/d3-sankey/~/d3-shape/src/symbol/cross.js","webpack:///./~/d3-sankey/~/d3-shape/src/symbol/diamond.js","webpack:///./~/d3-sankey/~/d3-shape/src/symbol/square.js","webpack:///./~/d3-sankey/~/d3-shape/src/symbol/star.js","webpack:///./~/d3-sankey/~/d3-shape/src/symbol/triangle.js","webpack:///./~/d3-sankey/~/d3-shape/src/symbol/wye.js","webpack:///./~/d3-sankey/src/align.js","webpack:///./src/index.js","webpack:///./src/component.js","webpack:///./~/d3-array/src/constant.js","webpack:///./~/d3-array/src/cross.js","webpack:///./~/d3-array/src/descending.js","webpack:///./~/d3-array/src/histogram.js","webpack:///./~/d3-array/src/identity.js","webpack:///./~/d3-array/src/max.js","webpack:///./~/d3-array/src/mean.js","webpack:///./~/d3-array/src/median.js","webpack:///./~/d3-array/src/merge.js","webpack:///./~/d3-array/src/permute.js","webpack:///./~/d3-array/src/scan.js","webpack:///./~/d3-array/src/shuffle.js","webpack:///./~/d3-array/src/sum.js","webpack:///./~/d3-array/src/threshold/freedmanDiaconis.js","webpack:///./~/d3-array/src/threshold/scott.js","webpack:///./~/d3-array/src/zip.js","webpack:///./~/d3-collection/index.js","webpack:///./~/d3-collection/src/entries.js","webpack:///./~/d3-collection/src/keys.js","webpack:///./~/d3-collection/src/nest.js","webpack:///./~/d3-collection/src/set.js","webpack:///./~/d3-collection/src/values.js","webpack:///./~/d3-path/src/path.js","webpack:///./~/d3-sankey/index.js","webpack:///./~/d3-sankey/~/d3-shape/index.js","webpack:///./~/d3-sankey/~/d3-shape/src/arc.js","webpack:///./~/d3-sankey/~/d3-shape/src/areaRadial.js","webpack:///./~/d3-sankey/~/d3-shape/src/curve/basisClosed.js","webpack:///./~/d3-sankey/~/d3-shape/src/curve/basisOpen.js","webpack:///./~/d3-sankey/~/d3-shape/src/curve/bundle.js","webpack:///./~/d3-sankey/~/d3-shape/src/curve/catmullRomClosed.js","webpack:///./~/d3-sankey/~/d3-shape/src/curve/catmullRomOpen.js","webpack:///./~/d3-sankey/~/d3-shape/src/curve/linearClosed.js","webpack:///./~/d3-sankey/~/d3-shape/src/curve/monotone.js","webpack:///./~/d3-sankey/~/d3-shape/src/curve/natural.js","webpack:///./~/d3-sankey/~/d3-shape/src/curve/step.js","webpack:///./~/d3-sankey/~/d3-shape/src/descending.js","webpack:///./~/d3-sankey/~/d3-shape/src/identity.js","webpack:///./~/d3-sankey/~/d3-shape/src/link/index.js","webpack:///./~/d3-sankey/~/d3-shape/src/offset/diverging.js","webpack:///./~/d3-sankey/~/d3-shape/src/offset/expand.js","webpack:///./~/d3-sankey/~/d3-shape/src/offset/silhouette.js","webpack:///./~/d3-sankey/~/d3-shape/src/offset/wiggle.js","webpack:///./~/d3-sankey/~/d3-shape/src/order/descending.js","webpack:///./~/d3-sankey/~/d3-shape/src/order/insideOut.js","webpack:///./~/d3-sankey/~/d3-shape/src/order/reverse.js","webpack:///./~/d3-sankey/~/d3-shape/src/pie.js","webpack:///./~/d3-sankey/~/d3-shape/src/stack.js","webpack:///./~/d3-sankey/~/d3-shape/src/symbol.js","webpack:///./~/d3-sankey/src/constant.js","webpack:///./~/d3-sankey/src/sankey.js","webpack:///./~/d3-sankey/src/sankeyLinkHorizontal.js","webpack:///./src/styles.scss?ccec","webpack:///./src/template.html"],"names":["Vizabi","Tool","extend","init","placeholder","externalModel","name","components","component","model","Component","get","_super","default_model","utils","iconset","Sankey","config","context","template","require","model_expects","type","model_binds","_updateAllLabelsOpacity","_updateValues","then","_redraw","_highlightEntities","_unhighlightEntities","readyOnce","_initSettings","_setProfile","_initBasics","_initHeader","_initFooter","_initSankey","_element","d3","select","element","_svg","_css","dot","classes","svg","_defs","formatNumber","format","_format","d","_translator","locale","getTFunction","_calculateSize","_settings","labelPadding","iconMargin","gradientTransitionDuration","_profiles","small","nodeWidth","iconSize","nodePadding","margin","top","left","bottom","right","medium","large","_presentationProfiles","Object","assign","classNames","split","filter","Boolean","map","c","join","header","headerText","footer","footerText","info","warning","nodesContainer","node","defaultText","strokeText","stroke","linksContainer","link","gradientLinksContainer","gradientLink","_width","px2num","style","_height","_header","_initHeaderText","_initHeaderInfo","_headerText","on","parent","findChildByName","markerID","alignX","alignY","updateView","toggle","_this","_info","rect","getBBox","ctx","makeAbsoluteContext","farthestViewportElement","coord","x","y","height","setHook","show","setPos","hide","pin","setIcon","question","attr","_footer","selectAll","_initFooterText","_initFooterWarning","_footerText","text","_warning","_updateDoubtOpaciy","warn","_sankey","_linksContainer","_gradientLinksContainer","_nodesContainer","ready","_redrawHeader","_redrawFooter","_resizeSankey","_makeMaxValuesGraph","resize","_activeProfile","getActiveProfile","headerBBox","footerBBox","extent","_graph","_getAnimationDuration","_adaptToMaxValues","_redrawLinks","_redrawNodes","_maxValuesGraph","_buildGraph","_maxValues","nodes","nodeData","graphRatio","value","_getNodeHeight","i","maxValueNodeCenter","y0","halfNodeHeight","y1","links","width","update","time","_prevTime","_nextTime","_duration","playing","delayAnimations","marker","size","getConceptprops","headerTextBBox","headerTextPosition","infoPosition","footerTextBBox","textPosition","warningPosition","opaciy","_redrawDefaultLinks","_redrawGradientLinks","data","exit","remove","linksEnter","enter","append","mergedLinks","_links","merge","transition","duration","Math","max","_createGradientDef","source","target","label","_entities","gradientLinks","gradientLinksEnter","mergedGradientLinks","_gradientLinks","each","_setDash","color","replace","sourceColor","targetColor","id","gradient","roundTo","areNodesHorizontallyEqual","toFixed","$this","totalLength","getTotalLength","markerEntities","nodesEnter","classed","mergedNodes","_nodes","highlightMarker","clearHighlighted","selectMarker","x0","x1","isPaintOrderAvailable","textCallback","view","length","isRtlText","textAnchor","ui","presentation","strokeTextSelection","_updateLabelOpacity","nodeHeightWithPadding","visibility","isSelected","isHighlighted","_getLayer","anotherLayerLinksData","linkData","_getPrevLayer","result","targetLinks","includes","push","_getNextLayer","sourceLinks","_highlightBranches","isAnimation","_highlightPrevLayer","_highlightNextLayer","preparedLinks","abs","_highlightLayer","forEach","highlight","Promise","ease","easeLinear","resolve","areSomeSelected","getSelected","interrupt","_getAllValues","_getMaxValues","keys","_allValues","reduce","index","currentYearValues","sourceKey","resultSource","targetKey","getFrame","_getValues","all","_values","values","graph","nested","v","a","indexOf","dim","entitiesAll","getDimension"],"mappings":";AAAA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA,mDAA2C,cAAc;;AAEzD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAK;AACL;AACA;;AAEA;AACA;AACA;AACA,mCAA2B,0BAA0B,EAAE;AACvD,yCAAiC,eAAe;AAChD;AACA;AACA;;AAEA;AACA,8DAAsD,+DAA+D;;AAErH;AACA;;AAEA;AACA;;;;;;;;AChEA;AACA;AACA;AACA;AACA;;;;;;;;ACJA;AACA;AACA;;;;;;;;ACFA;AACA;AACA;;;;;;;;;;ACFwB;;;;;;;;;;;;;;;;;;;;;ACAxB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;;;;;;;ACnBA;AACA;AACA,iEAAiE,OAAO;AACxE;AACA,eAAe,OAAO;AACtB;AACA;AACA;AACA;;;;;;;;ACRA;AACA;AACA;AACA;AACA;;;;;;;;;;ACJA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,8CAA8C;AAC9C,uDAAuD;AACvD;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,8BAA8B,sEAAsE;AACpG,8BAA8B;AAC9B,8BAA8B,oFAAoF;AAClH,iCAAiC;AACjC;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;;;;;;;;;AClDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,uDAAuD;AACvD,8CAA8C;AAC9C;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,8BAA8B,sEAAsE;AACpG,8BAA8B,4BAA4B;AAC1D,8BAA8B;AAC9B,iCAAiC;AACjC;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,CAAC;;;;;;;;AC5DD;AACA;AACA;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,GAAG;AACH;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,8BAA8B,sEAAsE;AACpG,8BAA8B;AAC9B,0CAA0C;AAC1C;AACA;AACA;;AAEA;AACA;AACA;;;;;;;;AC9BA;;;;;;;;;ACAA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;ACbA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,yEAAyE,8CAA8C;AACvH;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,+DAA+D,qBAAqB,EAAE;;AAEtF;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;;;;;;;;;;AC1EgB;AACC;;AAEjB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,uDAAuD;AACvD,6CAA6C;AAC7C;AACA;AACA;AACA,GAAG;AACH;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,8BAA8B,sEAAsE;AACpG,8BAA8B;AAC9B,8BAA8B;AAC9B,iCAAiC;AACjC;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,CAAC;;;;;;;;;;;;ACvFY;AACb;AACA;AACiC;;AAEjC;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA,eAAe,QAAQ;AACvB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;;;;;;;;;ACtDA;;AAEA;AACA;AACA,oHAA2C,0BAA0B,EAAE;AACvE;;AAEA;AACA;AACA;AACA;AACA;;;;;;;;;;ACXA;AACA;AACA;;AAEA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACNmD;AACtB;AACD;AACH;AACK;AACD;AACH;AACG;AACgB;AACX;AACE;AACb;AACC;AACE;AACD;AACF;AACE;AACE;AACC;AACH;AACD;AACG;AACJ;AAC2B;AACrB;AACD;AACL;;;;;;;;;AC1BvB;AAAA;;AAEA;AACA;;;;;;;;;;;;ACHA;AACA;;AAEA;AACA;AACA;AACA;;;;;;;;;ACNA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;;;;;;;;AChCA;;AAEA;AACA;AACA;AACA;;;;;;;;ACLA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,qBAAqB;AACrB;AACA;AACA,yBAAyB;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,qBAAqB;AACrB;AACA;AACA,yBAAyB;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;;;;;;;ACpCA;AACA;AACA;AACA;AACA;;AAEA;AACA,qBAAqB;AACrB;AACA;AACA,yBAAyB;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,qBAAqB;AACrB;AACA;AACA,yBAAyB;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;;;;;;;;ACjCA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;;;;;;;ACTA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;;;;;;;ACZA;AACA;AACA;;;;;;;;;ACFA;AAAA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;ACjDA;;AAEA;AACA;AACA,8IAAqE,SAAS;AAC9E,0DAA0D,SAAS;AACnE;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;;;;;;;;ACdA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;;;;;;;;;;;;AChCa;AACb;AACA;AACA;AACiC;;AAEjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA,eAAe,QAAQ;AACvB;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,yBAAyB,QAAQ;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;;;;;;;;AC5GA;;;;;;;;;;;ACAA;AACc;;AAEd;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,8BAA8B,4BAA4B;AAC1D,8BAA8B,kDAAkD;AAChF,8BAA8B,4BAA4B;AAC1D,2GAAiC;AACjC;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,CAAC;;;;;;;;;;AC5Da;;AAEd;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,8BAA8B;AAC9B,8BAA8B;AAC9B,8BAA8B,kGAAkG;AAChI,8BAA8B;AAC9B,2GAAiC;AACjC;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,CAAC;;;;;;;;;;;AChDD;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,GAAG;AACH;AACA;AACA,GAAG;AACH;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;;;;;;;;;;;ACnCuC;AACvC;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;;;;;;AClBA;AACA;AACA;;;;;;;;;ACFgB;;AAEhB;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;ACRA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;ACjBA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;ACbA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;ACNgB;;AAEhB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,OAAO;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;ACvBA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;ACVA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;ACzBY;;AAEZ;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACtBA;;AACA;;;;;;kBAEeA,OAAOC,IAAP,CAAYC,MAAZ,CAAmB,QAAnB,EAA6B;AAE1CC,MAF0C,gBAErCC,WAFqC,EAExBC,aAFwB,EAET;;AAE/B,SAAKC,IAAL,GAAY,QAAZ;;AAEA,SAAKC,UAAL,GAAkB,CAChB;AACEC,oCADF;AAEEJ,mBAAa,eAFf;AAGEK,aAAO,CACL,YADK,EAEL,qBAFK,EAGL,gBAHK,EAIL,oBAJK,EAKL,cALK,EAML,QANK,EAOL,IAPK;AAHT,KADgB,EAchB;AACED,iBAAWR,OAAOU,SAAP,CAAiBC,GAAjB,CAAqB,YAArB,CADb;AAEEP,mBAAa,sBAFf;AAGEK,aAAO,CAAC,YAAD,EAAe,qBAAf,EAAsC,oBAAtC,EAA4D,IAA5D;AAHT,KAdgB,EAmBhB;AACED,iBAAWR,OAAOU,SAAP,CAAiBC,GAAjB,CAAqB,SAArB,CADb;AAEEP,mBAAa,mBAFf;AAGEK,aAAO,CAAC,OAAD,EA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BA,IAAxB;AAAA,KAAhB,CAAd;;AAEA,WAAOiS,KAAP;AACD,GA9wBuC;AAgxBxC9Q,eAhxBwC,2BAgxBxB;AAAA;;AACd,WAAO,KAAK0Q,UAAL,GACJzQ,IADI,CACC;AAAA,aAAM,QAAKiI,MAAL,GAAc,QAAKM,WAAL,CAAiB,QAAKoI,OAAL,CAAa9G,IAA9B,CAApB;AAAA,KADD,CAAP;AAED;AAnxBuC,CAA3B,CAAf;;kBAuxBevK,M;;;;;;;AC/xBf;AACA;AACA;AACA;AACA;;;;;;;;;ACJa;;AAEb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA,kBAAkB,SAAS;AAC3B,sCAAsC,SAAS;AAC/C;AACA;AACA;;AAEA;AACA;;;;;;;;ACpBA;AACA;AACA;;;;;;;;;;;;;;;;ACFc;AACd;AACA;AACA;AACA;AACA;AACiB;AACjB;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,eAAe,OAAO;AACtB;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,iJAAwE;AACxE;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,eAAe,QAAQ;AACvB;AACA;AACA;AACA;;AAEA;AACA,eAAe,OAAO;AACtB;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;;;;;;;AC1EA;AACA;AACA;;;;;;;;ACFA;AACA;AACA;AACA;AACA;;AAEA;AACA,qBAAqB;AACrB;AACA;AACA,yBAAyB;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,qBAAqB;AACrB;AACA;AACA,yBAAyB;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;;;;;;;;ACjCA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;;;;;;;;;;ACxBA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;;;;;;;AC3BA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;;;;;;;ACpBA;AACA;AACA;AACA;AACA;;;;;;;;;ACJA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;;;;;;;ACnBA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;;;;;;;ACbA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,2CAA2C;AAC3C;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;;;;;;;;;;;ACnBY;AACZ;AACA;AACA;;AAEA;AACA;AACA;AACA;;;;;;;;;ACRA;;AAEA;AACA;AACA;;;;;;;;;ACJA;;AAEA;AACA;AACA;;;;;;;;;;;;;;;;;;;;ACJwB;AACD;AACA;AACC;AACE;AACC;;;;;;;;ACL3B;AACA;AACA,qCAAqC,0BAA0B;AAC/D;AACA;;;;;;;;ACJA;AACA;AACA;AACA;AACA;;;;;;;;;ACJA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;;AAEA;AACA;AACA,KAAK;;AAEL;AACA;;AAEA;AACA;AACA;AACA;AACA,8CAA8C,aAAa,kCAAkC,EAAE,EAAE;AACjG,wDAAwD,8BAA8B,EAAE;AACxF;;AAEA;AACA,6BAA6B,iDAAiD,EAAE;AAChF,0BAA0B,2CAA2C,EAAE;AACvE,8BAA8B,uDAAuD,EAAE;AACvF,sBAAsB,cAAc,aAAa,EAAE;AACnD,+BAA+B,mCAAmC,aAAa,EAAE;AACjF,iCAAiC,oBAAoB,aAAa,EAAE;AACpE,yBAAyB,YAAY,aAAa;AAClD;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;;;;;;;;ACxE+B;;AAE/B;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,0DAA0D,gBAAgB,EAAE;;AAE5E;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;;;;;;;ACtCA;AACA;AACA;AACA;AACA;;;;;;;;ACJA;AACA;AACA;AACA;;AAEA;AACA;AACA,6BAA6B;AAC7B;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,GAAG;AACH;AACA;AACA,GAAG;AACH;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;;AAEA;;;;;;;;;;;;;;;;;;ACjI0B;AACyE;AAC3D;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACFjB;AACC;AACA;AACD;AACuD;AACA;AAC/C;AACkB;;AAEd;AACH;AACD;AACE;AACD;AACF;AACI;AACL;;AAEO;AACF;AACJ;AACC;AACQ;AACF;AACJ;AACQ;AACF;AACJ;AACE;AACN;AACkC;AACjC;AACyD;;AAEhE;AACY;AACG;AACL;AACM;AACJ;AACE;AACC;AACD;AACL;AACG;;;;;;;;;;;AC5CxB;AACb;AACmF;;AAEnF;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,yBAAyB;AACzB;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;;;;;;;;;;AClQuC;AACvC;AACmB;;AAEnB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,iCAAiC,qGAAyB,EAAE;AAC5D,+BAA+B,qGAAyB,EAAE;AAC1D,kCAAkC,qGAAyB,EAAE;AAC7D,kCAAkC,qGAAyB,EAAE;;AAE7D;AACA;AACA;;AAEA;AACA;;;;;;;;;;AC5BA;AACc;;AAEd;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,8BAA8B,4BAA4B;AAC1D,8BAA8B,4BAA4B;AAC1D,8BAA8B,4BAA4B,4FAA4F;AACtJ,wGAAiC;AACjC;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;;;;;;;;ACnDc;;AAEd;AACA;AACA;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,8BAA8B;AAC9B,8BAA8B;AAC9B,8BAA8B,oFAAoF,0EAA0E;AAC5L,8BAA8B;AAC9B,wGAAiC;AACjC;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;;;;;;;;ACtCc;;AAEd;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,CAAC;;;;;;;;;;;ACvDsB;AACvB;AACc;;AAEd;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,8BAA8B,4BAA4B;AAC1D,8BAA8B,kDAAkD;AAChF,8BAA8B,4BAA4B;AAC1D,6GAAiC;AACjC;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,CAAC;;;;;;;;;;ACzEoB;AACP;;AAEd;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,8BAA8B;AAC9B,8BAA8B;AAC9B,8BAA8B,kGAAkG;AAChI,8BAA8B;AAC9B,6GAAiC;AACjC;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,CAAC;;;;;;;;;AC7DD;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;;;;;;;;ACxBA;AAAA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,uDAAuD;AACvD,4DAA4D;AAC5D;AACA;AACA;AACA,GAAG;AACH;AACA;;AAEA;AACA,iDAAiD;AACjD;AACA,8BAA8B,sEAAsE;AACpG,8BAA8B;AAC9B,8BAA8B,wDAAwD;AACtF,8DAA8D;AAC9D;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,0BAA0B,4BAA4B,EAAE;AACxD,yBAAyB,2BAA2B,EAAE;AACtD,0BAA0B,4BAA4B,EAAE;AACxD,iDAAiD,mDAAmD;AACpG;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;;;;;;;ACvGA;AACA;AACA;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA,gCAAgC,QAAQ;AACxC;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,WAAW;AACxB;AACA,aAAa,OAAO;AACpB;AACA,iBAAiB,QAAQ;AACzB;AACA,aAAa,WAAW;AACxB;AACA;;AAEA;AACA;AACA;;;;;;;;;AChEA;AAAA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,8BAA8B,sEAAsE;AACpG,8BAA8B;AAC9B;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;;;;;;;ACpDA;AACA;AACA;;;;;;;;ACFA;AACA;AACA;;;;;;;;;;;;;;;;ACFa;AACC;AACd;AACiC;AACjC;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;;;;;;;ACnFA;AACA;AACA,mEAAmE,OAAO;AAC1E,4BAA4B,OAAO;AACnC;AACA;AACA,OAAO;AACP;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;;;;;;;;;ACbA;;AAEA;AACA;AACA,gDAAgD,OAAO;AACvD,mBAAmB,OAAO;AAC1B,sBAAsB,OAAO;AAC7B;AACA;AACA;;;;;;;;;ACTA;;AAEA;AACA;AACA,0DAA0D,OAAO;AACjE,0BAA0B,OAAO;AACjC;AACA;AACA;AACA;;;;;;;;;ACTA;;AAEA;AACA;AACA,kCAAkC,OAAO;AACzC,mCAAmC,OAAO;AAC1C;AACA;AACA;AACA;AACA,qBAAqB,OAAO;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;ACvBA;;AAEA;AACA;AACA;;;;;;;;;;ACJA;AACY;;AAEZ;AACA;AACA;AACA;AACA;AACA,yHAAgD,0BAA0B,EAAE;AAC5E;AACA;AACA;AACA;;AAEA,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;;;;;;;;;AC1BA;;AAEA;AACA;AACA;;;;;;;;;;;;ACJA;AACA;AACA;AACY;;AAEZ;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,eAAe,OAAO;AACtB;AACA;AACA;AACA;;AAEA;AACA,uDAAuD,qCAAqC,EAAE;AAC9F,sDAAsD,+BAA+B,EAAE;;AAEvF;AACA,kDAAkD,OAAO;AACzD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;;;;;;;;;;;AC9Ec;AACd;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,eAAe,OAAO;AACtB,iEAAiE,OAAO;AACxE;AACA;AACA;AACA;AACA;;AAEA,+BAA+B,OAAO;AACtC;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;;;;;;;;;;;;;;;;;ACxDa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;;;;;;;;AC7CA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACJ4B;AACV;AACF;AAChB;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA,+CAA+C,cAAc;AAC7D;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,OAAO;AACP;;AAEA,+CAA+C,cAAc;AAC7D;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,OAAO;AACP;;AAEA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA,0BAA0B,aAAa,EAAE;AACzC;AACA;AACA,0BAA0B,iBAAiB,EAAE;;AAE7C;AACA;AACA;AACA,uCAAuC,OAAO;AAC9C;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,OAAO;;AAEP;AACA;AACA;AACA,SAAS;AACT,OAAO;;AAEP;AACA;AACA,OAAO;AACP;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,OAAO;AACP;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,OAAO;AACP;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,mBAAmB,OAAO;AAC1B;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,yBAAyB,QAAQ;AACjC;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA,OAAO;AACP,KAAK;AACL;;AAEA;AACA;;;;;;;;;AC1RuB;;AAEvB;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;;;;;;ACdA,yC;;;;;;ACAA,yvB","file":"sankey.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 101);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 17813d7041f98164c20b","export default function(x) {\n  return function constant() {\n    return x;\n  };\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/d3-sankey/~/d3-shape/src/constant.js\n// module id = 0\n// module chunks = 0 1","export default function(a, b) {\n  return a < b ? -1 : a > b ? 1 : a >= b ? 0 : NaN;\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/d3-array/src/ascending.js\n// module id = 1\n// module chunks = 0 1","export default function(x) {\n  return x === null ? NaN : +x;\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/d3-array/src/number.js\n// module id = 2\n// module chunks = 0 1","export {default as path} from \"./src/path\";\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/d3-path/index.js\n// module id = 3\n// module chunks = 0 1","export var abs = Math.abs;\nexport var atan2 = Math.atan2;\nexport var cos = Math.cos;\nexport var max = Math.max;\nexport var min = Math.min;\nexport var sin = Math.sin;\nexport var sqrt = Math.sqrt;\n\nexport var epsilon = 1e-12;\nexport var pi = Math.PI;\nexport var halfPi = pi / 2;\nexport var tau = 2 * pi;\n\nexport function acos(x) {\n  return x > 1 ? 0 : x < -1 ? pi : Math.acos(x);\n}\n\nexport function asin(x) {\n  return x >= 1 ? halfPi : x <= -1 ? -halfPi : Math.asin(x);\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/d3-sankey/~/d3-shape/src/math.js\n// module id = 4\n// module chunks = 0 1","export default function(series, order) {\n  if (!((n = series.length) > 1)) return;\n  for (var i = 1, j, s0, s1 = series[order[0]], n, m = s1.length; i < n; ++i) {\n    s0 = s1, s1 = series[order[i]];\n    for (j = 0; j < m; ++j) {\n      s1[j][1] += s1[j][0] = isNaN(s0[j][1]) ? s0[j][0] : s0[j][1];\n    }\n  }\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/d3-sankey/~/d3-shape/src/offset/none.js\n// module id = 5\n// module chunks = 0 1","export default function(series) {\n  var n = series.length, o = new Array(n);\n  while (--n >= 0) o[n] = n;\n  return o;\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/d3-sankey/~/d3-shape/src/order/none.js\n// module id = 6\n// module chunks = 0 1","export function point(that, x, y) {\n  that._context.bezierCurveTo(\n    (2 * that._x0 + that._x1) / 3,\n    (2 * that._y0 + that._y1) / 3,\n    (that._x0 + 2 * that._x1) / 3,\n    (that._y0 + 2 * that._y1) / 3,\n    (that._x0 + 4 * that._x1 + x) / 6,\n    (that._y0 + 4 * that._y1 + y) / 6\n  );\n}\n\nexport function Basis(context) {\n  this._context = context;\n}\n\nBasis.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x0 = this._x1 =\n    this._y0 = this._y1 = NaN;\n    this._point = 0;\n  },\n  lineEnd: function() {\n    switch (this._point) {\n      case 3: point(this, this._x1, this._y1); // proceed\n      case 2: this._context.lineTo(this._x1, this._y1); break;\n    }\n    if (this._line || (this._line !== 0 && this._point === 1)) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    switch (this._point) {\n      case 0: this._point = 1; this._line ? this._context.lineTo(x, y) : this._context.moveTo(x, y); break;\n      case 1: this._point = 2; break;\n      case 2: this._point = 3; this._context.lineTo((5 * this._x0 + this._x1) / 6, (5 * this._y0 + this._y1) / 6); // proceed\n      default: point(this, x, y); break;\n    }\n    this._x0 = this._x1, this._x1 = x;\n    this._y0 = this._y1, this._y1 = y;\n  }\n};\n\nexport default function(context) {\n  return new Basis(context);\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/d3-sankey/~/d3-shape/src/curve/basis.js\n// module id = 7\n// module chunks = 0 1","export function point(that, x, y) {\n  that._context.bezierCurveTo(\n    that._x1 + that._k * (that._x2 - that._x0),\n    that._y1 + that._k * (that._y2 - that._y0),\n    that._x2 + that._k * (that._x1 - x),\n    that._y2 + that._k * (that._y1 - y),\n    that._x2,\n    that._y2\n  );\n}\n\nexport function Cardinal(context, tension) {\n  this._context = context;\n  this._k = (1 - tension) / 6;\n}\n\nCardinal.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x0 = this._x1 = this._x2 =\n    this._y0 = this._y1 = this._y2 = NaN;\n    this._point = 0;\n  },\n  lineEnd: function() {\n    switch (this._point) {\n      case 2: this._context.lineTo(this._x2, this._y2); break;\n      case 3: point(this, this._x1, this._y1); break;\n    }\n    if (this._line || (this._line !== 0 && this._point === 1)) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    switch (this._point) {\n      case 0: this._point = 1; this._line ? this._context.lineTo(x, y) : this._context.moveTo(x, y); break;\n      case 1: this._point = 2; this._x1 = x, this._y1 = y; break;\n      case 2: this._point = 3; // proceed\n      default: point(this, x, y); break;\n    }\n    this._x0 = this._x1, this._x1 = this._x2, this._x2 = x;\n    this._y0 = this._y1, this._y1 = this._y2, this._y2 = y;\n  }\n};\n\nexport default (function custom(tension) {\n\n  function cardinal(context) {\n    return new Cardinal(context, tension);\n  }\n\n  cardinal.tension = function(tension) {\n    return custom(+tension);\n  };\n\n  return cardinal;\n})(0);\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/d3-sankey/~/d3-shape/src/curve/cardinal.js\n// module id = 8\n// module chunks = 0 1","function Linear(context) {\n  this._context = context;\n}\n\nLinear.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._point = 0;\n  },\n  lineEnd: function() {\n    if (this._line || (this._line !== 0 && this._point === 1)) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    switch (this._point) {\n      case 0: this._point = 1; this._line ? this._context.lineTo(x, y) : this._context.moveTo(x, y); break;\n      case 1: this._point = 2; // proceed\n      default: this._context.lineTo(x, y); break;\n    }\n  }\n};\n\nexport default function(context) {\n  return new Linear(context);\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/d3-sankey/~/d3-shape/src/curve/linear.js\n// module id = 9\n// module chunks = 0 1","export default function() {}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/d3-sankey/~/d3-shape/src/noop.js\n// module id = 10\n// module chunks = 0 1","import number from \"./number\";\n\nexport default function(values, p, valueof) {\n  if (valueof == null) valueof = number;\n  if (!(n = values.length)) return;\n  if ((p = +p) <= 0 || n < 2) return +valueof(values[0], 0, values);\n  if (p >= 1) return +valueof(values[n - 1], n - 1, values);\n  var n,\n      i = (n - 1) * p,\n      i0 = Math.floor(i),\n      value0 = +valueof(values[i0], i0, values),\n      value1 = +valueof(values[i0 + 1], i0 + 1, values);\n  return value0 + (value1 - value0) * (i - i0);\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/d3-array/src/quantile.js\n// module id = 11\n// module chunks = 0 1","export var prefix = \"$\";\n\nfunction Map() {}\n\nMap.prototype = map.prototype = {\n  constructor: Map,\n  has: function(key) {\n    return (prefix + key) in this;\n  },\n  get: function(key) {\n    return this[prefix + key];\n  },\n  set: function(key, value) {\n    this[prefix + key] = value;\n    return this;\n  },\n  remove: function(key) {\n    var property = prefix + key;\n    return property in this && delete this[property];\n  },\n  clear: function() {\n    for (var property in this) if (property[0] === prefix) delete this[property];\n  },\n  keys: function() {\n    var keys = [];\n    for (var property in this) if (property[0] === prefix) keys.push(property.slice(1));\n    return keys;\n  },\n  values: function() {\n    var values = [];\n    for (var property in this) if (property[0] === prefix) values.push(this[property]);\n    return values;\n  },\n  entries: function() {\n    var entries = [];\n    for (var property in this) if (property[0] === prefix) entries.push({key: property.slice(1), value: this[property]});\n    return entries;\n  },\n  size: function() {\n    var size = 0;\n    for (var property in this) if (property[0] === prefix) ++size;\n    return size;\n  },\n  empty: function() {\n    for (var property in this) if (property[0] === prefix) return false;\n    return true;\n  },\n  each: function(f) {\n    for (var property in this) if (property[0] === prefix) f(this[property], property.slice(1), this);\n  }\n};\n\nfunction map(object, f) {\n  var map = new Map;\n\n  // Copy constructor.\n  if (object instanceof Map) object.each(function(value, key) { map.set(key, value); });\n\n  // Index array by numeric index or specified key function.\n  else if (Array.isArray(object)) {\n    var i = -1,\n        n = object.length,\n        o;\n\n    if (f == null) while (++i < n) map.set(i, object[i]);\n    else while (++i < n) map.set(f(o = object[i], i, object), o);\n  }\n\n  // Convert object to map.\n  else if (object) for (var key in object) map.set(key, object[key]);\n\n  return map;\n}\n\nexport default map;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/d3-collection/src/map.js\n// module id = 12\n// module chunks = 0 1","import {epsilon} from \"../math\";\nimport {Cardinal} from \"./cardinal\";\n\nexport function point(that, x, y) {\n  var x1 = that._x1,\n      y1 = that._y1,\n      x2 = that._x2,\n      y2 = that._y2;\n\n  if (that._l01_a > epsilon) {\n    var a = 2 * that._l01_2a + 3 * that._l01_a * that._l12_a + that._l12_2a,\n        n = 3 * that._l01_a * (that._l01_a + that._l12_a);\n    x1 = (x1 * a - that._x0 * that._l12_2a + that._x2 * that._l01_2a) / n;\n    y1 = (y1 * a - that._y0 * that._l12_2a + that._y2 * that._l01_2a) / n;\n  }\n\n  if (that._l23_a > epsilon) {\n    var b = 2 * that._l23_2a + 3 * that._l23_a * that._l12_a + that._l12_2a,\n        m = 3 * that._l23_a * (that._l23_a + that._l12_a);\n    x2 = (x2 * b + that._x1 * that._l23_2a - x * that._l12_2a) / m;\n    y2 = (y2 * b + that._y1 * that._l23_2a - y * that._l12_2a) / m;\n  }\n\n  that._context.bezierCurveTo(x1, y1, x2, y2, that._x2, that._y2);\n}\n\nfunction CatmullRom(context, alpha) {\n  this._context = context;\n  this._alpha = alpha;\n}\n\nCatmullRom.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x0 = this._x1 = this._x2 =\n    this._y0 = this._y1 = this._y2 = NaN;\n    this._l01_a = this._l12_a = this._l23_a =\n    this._l01_2a = this._l12_2a = this._l23_2a =\n    this._point = 0;\n  },\n  lineEnd: function() {\n    switch (this._point) {\n      case 2: this._context.lineTo(this._x2, this._y2); break;\n      case 3: this.point(this._x2, this._y2); break;\n    }\n    if (this._line || (this._line !== 0 && this._point === 1)) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n\n    if (this._point) {\n      var x23 = this._x2 - x,\n          y23 = this._y2 - y;\n      this._l23_a = Math.sqrt(this._l23_2a = Math.pow(x23 * x23 + y23 * y23, this._alpha));\n    }\n\n    switch (this._point) {\n      case 0: this._point = 1; this._line ? this._context.lineTo(x, y) : this._context.moveTo(x, y); break;\n      case 1: this._point = 2; break;\n      case 2: this._point = 3; // proceed\n      default: point(this, x, y); break;\n    }\n\n    this._l01_a = this._l12_a, this._l12_a = this._l23_a;\n    this._l01_2a = this._l12_2a, this._l12_2a = this._l23_2a;\n    this._x0 = this._x1, this._x1 = this._x2, this._x2 = x;\n    this._y0 = this._y1, this._y1 = this._y2, this._y2 = y;\n  }\n};\n\nexport default (function custom(alpha) {\n\n  function catmullRom(context) {\n    return alpha ? new CatmullRom(context, alpha) : new Cardinal(context, 0);\n  }\n\n  catmullRom.alpha = function(alpha) {\n    return custom(+alpha);\n  };\n\n  return catmullRom;\n})(0.5);\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/d3-sankey/~/d3-shape/src/curve/catmullRom.js\n// module id = 13\n// module chunks = 0 1","import {path} from \"d3-path\";\nimport constant from \"./constant\";\nimport curveLinear from \"./curve/linear\";\nimport {x as pointX, y as pointY} from \"./point\";\n\nexport default function() {\n  var x = pointX,\n      y = pointY,\n      defined = constant(true),\n      context = null,\n      curve = curveLinear,\n      output = null;\n\n  function line(data) {\n    var i,\n        n = data.length,\n        d,\n        defined0 = false,\n        buffer;\n\n    if (context == null) output = curve(buffer = path());\n\n    for (i = 0; i <= n; ++i) {\n      if (!(i < n && defined(d = data[i], i, data)) === defined0) {\n        if (defined0 = !defined0) output.lineStart();\n        else output.lineEnd();\n      }\n      if (defined0) output.point(+x(d, i, data), +y(d, i, data));\n    }\n\n    if (buffer) return output = null, buffer + \"\" || null;\n  }\n\n  line.x = function(_) {\n    return arguments.length ? (x = typeof _ === \"function\" ? _ : constant(+_), line) : x;\n  };\n\n  line.y = function(_) {\n    return arguments.length ? (y = typeof _ === \"function\" ? _ : constant(+_), line) : y;\n  };\n\n  line.defined = function(_) {\n    return arguments.length ? (defined = typeof _ === \"function\" ? _ : constant(!!_), line) : defined;\n  };\n\n  line.curve = function(_) {\n    return arguments.length ? (curve = _, context != null && (output = curve(context)), line) : curve;\n  };\n\n  line.context = function(_) {\n    return arguments.length ? (_ == null ? context = output = null : output = curve(context = _), line) : context;\n  };\n\n  return line;\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/d3-sankey/~/d3-shape/src/line.js\n// module id = 14\n// module chunks = 0 1","import none from \"./none\";\n\nexport default function(series) {\n  var sums = series.map(sum);\n  return none(series).sort(function(a, b) { return sums[a] - sums[b]; });\n}\n\nexport function sum(series) {\n  var s = 0, i = -1, n = series.length, v;\n  while (++i < n) if (v = +series[i][1]) s += v;\n  return s;\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/d3-sankey/~/d3-shape/src/order/ascending.js\n// module id = 15\n// module chunks = 0 1","export function x(p) {\n  return p[0];\n}\n\nexport function y(p) {\n  return p[1];\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/d3-sankey/~/d3-shape/src/point.js\n// module id = 16\n// module chunks = 0 1","export {default as bisect, bisectRight, bisectLeft} from \"./src/bisect\";\nexport {default as ascending} from \"./src/ascending\";\nexport {default as bisector} from \"./src/bisector\";\nexport {default as cross} from \"./src/cross\";\nexport {default as descending} from \"./src/descending\";\nexport {default as deviation} from \"./src/deviation\";\nexport {default as extent} from \"./src/extent\";\nexport {default as histogram} from \"./src/histogram\";\nexport {default as thresholdFreedmanDiaconis} from \"./src/threshold/freedmanDiaconis\";\nexport {default as thresholdScott} from \"./src/threshold/scott\";\nexport {default as thresholdSturges} from \"./src/threshold/sturges\";\nexport {default as max} from \"./src/max\";\nexport {default as mean} from \"./src/mean\";\nexport {default as median} from \"./src/median\";\nexport {default as merge} from \"./src/merge\";\nexport {default as min} from \"./src/min\";\nexport {default as pairs} from \"./src/pairs\";\nexport {default as permute} from \"./src/permute\";\nexport {default as quantile} from \"./src/quantile\";\nexport {default as range} from \"./src/range\";\nexport {default as scan} from \"./src/scan\";\nexport {default as shuffle} from \"./src/shuffle\";\nexport {default as sum} from \"./src/sum\";\nexport {default as ticks, tickIncrement, tickStep} from \"./src/ticks\";\nexport {default as transpose} from \"./src/transpose\";\nexport {default as variance} from \"./src/variance\";\nexport {default as zip} from \"./src/zip\";\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/d3-array/index.js\n// module id = 17\n// module chunks = 0 1","var array = Array.prototype;\n\nexport var slice = array.slice;\nexport var map = array.map;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/d3-array/src/array.js\n// module id = 18\n// module chunks = 0 1","import ascending from \"./ascending\";\nimport bisector from \"./bisector\";\n\nvar ascendingBisect = bisector(ascending);\nexport var bisectRight = ascendingBisect.right;\nexport var bisectLeft = ascendingBisect.left;\nexport default bisectRight;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/d3-array/src/bisect.js\n// module id = 19\n// module chunks = 0 1","import ascending from \"./ascending\";\n\nexport default function(compare) {\n  if (compare.length === 1) compare = ascendingComparator(compare);\n  return {\n    left: function(a, x, lo, hi) {\n      if (lo == null) lo = 0;\n      if (hi == null) hi = a.length;\n      while (lo < hi) {\n        var mid = lo + hi >>> 1;\n        if (compare(a[mid], x) < 0) lo = mid + 1;\n        else hi = mid;\n      }\n      return lo;\n    },\n    right: function(a, x, lo, hi) {\n      if (lo == null) lo = 0;\n      if (hi == null) hi = a.length;\n      while (lo < hi) {\n        var mid = lo + hi >>> 1;\n        if (compare(a[mid], x) > 0) hi = mid;\n        else lo = mid + 1;\n      }\n      return lo;\n    }\n  };\n}\n\nfunction ascendingComparator(f) {\n  return function(d, x) {\n    return ascending(f(d), x);\n  };\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/d3-array/src/bisector.js\n// module id = 20\n// module chunks = 0 1","import variance from \"./variance\";\n\nexport default function(array, f) {\n  var v = variance(array, f);\n  return v ? Math.sqrt(v) : v;\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/d3-array/src/deviation.js\n// module id = 21\n// module chunks = 0 1","export default function(values, valueof) {\n  var n = values.length,\n      i = -1,\n      value,\n      min,\n      max;\n\n  if (valueof == null) {\n    while (++i < n) { // Find the first comparable value.\n      if ((value = values[i]) != null && value >= value) {\n        min = max = value;\n        while (++i < n) { // Compare the remaining values.\n          if ((value = values[i]) != null) {\n            if (min > value) min = value;\n            if (max < value) max = value;\n          }\n        }\n      }\n    }\n  }\n\n  else {\n    while (++i < n) { // Find the first comparable value.\n      if ((value = valueof(values[i], i, values)) != null && value >= value) {\n        min = max = value;\n        while (++i < n) { // Compare the remaining values.\n          if ((value = valueof(values[i], i, values)) != null) {\n            if (min > value) min = value;\n            if (max < value) max = value;\n          }\n        }\n      }\n    }\n  }\n\n  return [min, max];\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/d3-array/src/extent.js\n// module id = 22\n// module chunks = 0 1","export default function(values, valueof) {\n  var n = values.length,\n      i = -1,\n      value,\n      min;\n\n  if (valueof == null) {\n    while (++i < n) { // Find the first comparable value.\n      if ((value = values[i]) != null && value >= value) {\n        min = value;\n        while (++i < n) { // Compare the remaining values.\n          if ((value = values[i]) != null && min > value) {\n            min = value;\n          }\n        }\n      }\n    }\n  }\n\n  else {\n    while (++i < n) { // Find the first comparable value.\n      if ((value = valueof(values[i], i, values)) != null && value >= value) {\n        min = value;\n        while (++i < n) { // Compare the remaining values.\n          if ((value = valueof(values[i], i, values)) != null && min > value) {\n            min = value;\n          }\n        }\n      }\n    }\n  }\n\n  return min;\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/d3-array/src/min.js\n// module id = 23\n// module chunks = 0 1","export default function(array, f) {\n  if (f == null) f = pair;\n  var i = 0, n = array.length - 1, p = array[0], pairs = new Array(n < 0 ? 0 : n);\n  while (i < n) pairs[i] = f(p, p = array[++i]);\n  return pairs;\n}\n\nexport function pair(a, b) {\n  return [a, b];\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/d3-array/src/pairs.js\n// module id = 24\n// module chunks = 0 1","export default function(start, stop, step) {\n  start = +start, stop = +stop, step = (n = arguments.length) < 2 ? (stop = start, start = 0, 1) : n < 3 ? 1 : +step;\n\n  var i = -1,\n      n = Math.max(0, Math.ceil((stop - start) / step)) | 0,\n      range = new Array(n);\n\n  while (++i < n) {\n    range[i] = start + i * step;\n  }\n\n  return range;\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/d3-array/src/range.js\n// module id = 25\n// module chunks = 0 1","export default function(values) {\n  return Math.ceil(Math.log(values.length) / Math.LN2) + 1;\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/d3-array/src/threshold/sturges.js\n// module id = 26\n// module chunks = 0 1","var e10 = Math.sqrt(50),\n    e5 = Math.sqrt(10),\n    e2 = Math.sqrt(2);\n\nexport default function(start, stop, count) {\n  var reverse = stop < start,\n      i = -1,\n      n,\n      ticks,\n      step;\n\n  if (reverse) n = start, start = stop, stop = n;\n\n  if ((step = tickIncrement(start, stop, count)) === 0 || !isFinite(step)) return [];\n\n  if (step > 0) {\n    start = Math.ceil(start / step);\n    stop = Math.floor(stop / step);\n    ticks = new Array(n = Math.ceil(stop - start + 1));\n    while (++i < n) ticks[i] = (start + i) * step;\n  } else {\n    start = Math.floor(start * step);\n    stop = Math.ceil(stop * step);\n    ticks = new Array(n = Math.ceil(start - stop + 1));\n    while (++i < n) ticks[i] = (start - i) / step;\n  }\n\n  if (reverse) ticks.reverse();\n\n  return ticks;\n}\n\nexport function tickIncrement(start, stop, count) {\n  var step = (stop - start) / Math.max(0, count),\n      power = Math.floor(Math.log(step) / Math.LN10),\n      error = step / Math.pow(10, power);\n  return power >= 0\n      ? (error >= e10 ? 10 : error >= e5 ? 5 : error >= e2 ? 2 : 1) * Math.pow(10, power)\n      : -Math.pow(10, -power) / (error >= e10 ? 10 : error >= e5 ? 5 : error >= e2 ? 2 : 1);\n}\n\nexport function tickStep(start, stop, count) {\n  var step0 = Math.abs(stop - start) / Math.max(0, count),\n      step1 = Math.pow(10, Math.floor(Math.log(step0) / Math.LN10)),\n      error = step0 / step1;\n  if (error >= e10) step1 *= 10;\n  else if (error >= e5) step1 *= 5;\n  else if (error >= e2) step1 *= 2;\n  return stop < start ? -step1 : step1;\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/d3-array/src/ticks.js\n// module id = 27\n// module chunks = 0 1","import min from \"./min\";\n\nexport default function(matrix) {\n  if (!(n = matrix.length)) return [];\n  for (var i = -1, m = min(matrix, length), transpose = new Array(m); ++i < m;) {\n    for (var j = -1, n, row = transpose[i] = new Array(n); ++j < n;) {\n      row[j] = matrix[j][i];\n    }\n  }\n  return transpose;\n}\n\nfunction length(d) {\n  return d.length;\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/d3-array/src/transpose.js\n// module id = 28\n// module chunks = 0 1","import number from \"./number\";\n\nexport default function(values, valueof) {\n  var n = values.length,\n      m = 0,\n      i = -1,\n      mean = 0,\n      value,\n      delta,\n      sum = 0;\n\n  if (valueof == null) {\n    while (++i < n) {\n      if (!isNaN(value = number(values[i]))) {\n        delta = value - mean;\n        mean += delta / ++m;\n        sum += delta * (value - mean);\n      }\n    }\n  }\n\n  else {\n    while (++i < n) {\n      if (!isNaN(value = number(valueof(values[i], i, values)))) {\n        delta = value - mean;\n        mean += delta / ++m;\n        sum += delta * (value - mean);\n      }\n    }\n  }\n\n  if (m > 1) return sum / (m - 1);\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/d3-array/src/variance.js\n// module id = 29\n// module chunks = 0 1","import {path} from \"d3-path\";\nimport constant from \"./constant\";\nimport curveLinear from \"./curve/linear\";\nimport line from \"./line\";\nimport {x as pointX, y as pointY} from \"./point\";\n\nexport default function() {\n  var x0 = pointX,\n      x1 = null,\n      y0 = constant(0),\n      y1 = pointY,\n      defined = constant(true),\n      context = null,\n      curve = curveLinear,\n      output = null;\n\n  function area(data) {\n    var i,\n        j,\n        k,\n        n = data.length,\n        d,\n        defined0 = false,\n        buffer,\n        x0z = new Array(n),\n        y0z = new Array(n);\n\n    if (context == null) output = curve(buffer = path());\n\n    for (i = 0; i <= n; ++i) {\n      if (!(i < n && defined(d = data[i], i, data)) === defined0) {\n        if (defined0 = !defined0) {\n          j = i;\n          output.areaStart();\n          output.lineStart();\n        } else {\n          output.lineEnd();\n          output.lineStart();\n          for (k = i - 1; k >= j; --k) {\n            output.point(x0z[k], y0z[k]);\n          }\n          output.lineEnd();\n          output.areaEnd();\n        }\n      }\n      if (defined0) {\n        x0z[i] = +x0(d, i, data), y0z[i] = +y0(d, i, data);\n        output.point(x1 ? +x1(d, i, data) : x0z[i], y1 ? +y1(d, i, data) : y0z[i]);\n      }\n    }\n\n    if (buffer) return output = null, buffer + \"\" || null;\n  }\n\n  function arealine() {\n    return line().defined(defined).curve(curve).context(context);\n  }\n\n  area.x = function(_) {\n    return arguments.length ? (x0 = typeof _ === \"function\" ? _ : constant(+_), x1 = null, area) : x0;\n  };\n\n  area.x0 = function(_) {\n    return arguments.length ? (x0 = typeof _ === \"function\" ? _ : constant(+_), area) : x0;\n  };\n\n  area.x1 = function(_) {\n    return arguments.length ? (x1 = _ == null ? null : typeof _ === \"function\" ? _ : constant(+_), area) : x1;\n  };\n\n  area.y = function(_) {\n    return arguments.length ? (y0 = typeof _ === \"function\" ? _ : constant(+_), y1 = null, area) : y0;\n  };\n\n  area.y0 = function(_) {\n    return arguments.length ? (y0 = typeof _ === \"function\" ? _ : constant(+_), area) : y0;\n  };\n\n  area.y1 = function(_) {\n    return arguments.length ? (y1 = _ == null ? null : typeof _ === \"function\" ? _ : constant(+_), area) : y1;\n  };\n\n  area.lineX0 =\n  area.lineY0 = function() {\n    return arealine().x(x0).y(y0);\n  };\n\n  area.lineY1 = function() {\n    return arealine().x(x0).y(y1);\n  };\n\n  area.lineX1 = function() {\n    return arealine().x(x1).y(y0);\n  };\n\n  area.defined = function(_) {\n    return arguments.length ? (defined = typeof _ === \"function\" ? _ : constant(!!_), area) : defined;\n  };\n\n  area.curve = function(_) {\n    return arguments.length ? (curve = _, context != null && (output = curve(context)), area) : curve;\n  };\n\n  area.context = function(_) {\n    return arguments.length ? (_ == null ? context = output = null : output = curve(context = _), area) : context;\n  };\n\n  return area;\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/d3-sankey/~/d3-shape/src/area.js\n// module id = 30\n// module chunks = 0 1","export var slice = Array.prototype.slice;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/d3-sankey/~/d3-shape/src/array.js\n// module id = 31\n// module chunks = 0 1","import noop from \"../noop\";\nimport {point} from \"./cardinal\";\n\nexport function CardinalClosed(context, tension) {\n  this._context = context;\n  this._k = (1 - tension) / 6;\n}\n\nCardinalClosed.prototype = {\n  areaStart: noop,\n  areaEnd: noop,\n  lineStart: function() {\n    this._x0 = this._x1 = this._x2 = this._x3 = this._x4 = this._x5 =\n    this._y0 = this._y1 = this._y2 = this._y3 = this._y4 = this._y5 = NaN;\n    this._point = 0;\n  },\n  lineEnd: function() {\n    switch (this._point) {\n      case 1: {\n        this._context.moveTo(this._x3, this._y3);\n        this._context.closePath();\n        break;\n      }\n      case 2: {\n        this._context.lineTo(this._x3, this._y3);\n        this._context.closePath();\n        break;\n      }\n      case 3: {\n        this.point(this._x3, this._y3);\n        this.point(this._x4, this._y4);\n        this.point(this._x5, this._y5);\n        break;\n      }\n    }\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    switch (this._point) {\n      case 0: this._point = 1; this._x3 = x, this._y3 = y; break;\n      case 1: this._point = 2; this._context.moveTo(this._x4 = x, this._y4 = y); break;\n      case 2: this._point = 3; this._x5 = x, this._y5 = y; break;\n      default: point(this, x, y); break;\n    }\n    this._x0 = this._x1, this._x1 = this._x2, this._x2 = x;\n    this._y0 = this._y1, this._y1 = this._y2, this._y2 = y;\n  }\n};\n\nexport default (function custom(tension) {\n\n  function cardinal(context) {\n    return new CardinalClosed(context, tension);\n  }\n\n  cardinal.tension = function(tension) {\n    return custom(+tension);\n  };\n\n  return cardinal;\n})(0);\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/d3-sankey/~/d3-shape/src/curve/cardinalClosed.js\n// module id = 32\n// module chunks = 0 1","import {point} from \"./cardinal\";\n\nexport function CardinalOpen(context, tension) {\n  this._context = context;\n  this._k = (1 - tension) / 6;\n}\n\nCardinalOpen.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x0 = this._x1 = this._x2 =\n    this._y0 = this._y1 = this._y2 = NaN;\n    this._point = 0;\n  },\n  lineEnd: function() {\n    if (this._line || (this._line !== 0 && this._point === 3)) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    switch (this._point) {\n      case 0: this._point = 1; break;\n      case 1: this._point = 2; break;\n      case 2: this._point = 3; this._line ? this._context.lineTo(this._x2, this._y2) : this._context.moveTo(this._x2, this._y2); break;\n      case 3: this._point = 4; // proceed\n      default: point(this, x, y); break;\n    }\n    this._x0 = this._x1, this._x1 = this._x2, this._x2 = x;\n    this._y0 = this._y1, this._y1 = this._y2, this._y2 = y;\n  }\n};\n\nexport default (function custom(tension) {\n\n  function cardinal(context) {\n    return new CardinalOpen(context, tension);\n  }\n\n  cardinal.tension = function(tension) {\n    return custom(+tension);\n  };\n\n  return cardinal;\n})(0);\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/d3-sankey/~/d3-shape/src/curve/cardinalOpen.js\n// module id = 33\n// module chunks = 0 1","import curveLinear from \"./linear\";\n\nexport var curveRadialLinear = curveRadial(curveLinear);\n\nfunction Radial(curve) {\n  this._curve = curve;\n}\n\nRadial.prototype = {\n  areaStart: function() {\n    this._curve.areaStart();\n  },\n  areaEnd: function() {\n    this._curve.areaEnd();\n  },\n  lineStart: function() {\n    this._curve.lineStart();\n  },\n  lineEnd: function() {\n    this._curve.lineEnd();\n  },\n  point: function(a, r) {\n    this._curve.point(r * Math.sin(a), r * -Math.cos(a));\n  }\n};\n\nexport default function curveRadial(curve) {\n\n  function radial(context) {\n    return new Radial(curve(context));\n  }\n\n  radial._curve = curve;\n\n  return radial;\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/d3-sankey/~/d3-shape/src/curve/radial.js\n// module id = 34\n// module chunks = 0 1","import curveRadial, {curveRadialLinear} from \"./curve/radial\";\nimport line from \"./line\";\n\nexport function lineRadial(l) {\n  var c = l.curve;\n\n  l.angle = l.x, delete l.x;\n  l.radius = l.y, delete l.y;\n\n  l.curve = function(_) {\n    return arguments.length ? c(curveRadial(_)) : c()._curve;\n  };\n\n  return l;\n}\n\nexport default function() {\n  return lineRadial(line().curve(curveRadialLinear));\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/d3-sankey/~/d3-shape/src/lineRadial.js\n// module id = 35\n// module chunks = 0 1","export default function(x, y) {\n  return [(y = +y) * Math.cos(x -= Math.PI / 2), y * Math.sin(x)];\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/d3-sankey/~/d3-shape/src/pointRadial.js\n// module id = 36\n// module chunks = 0 1","import {pi, tau} from \"../math\";\n\nexport default {\n  draw: function(context, size) {\n    var r = Math.sqrt(size / pi);\n    context.moveTo(r, 0);\n    context.arc(0, 0, r, 0, tau);\n  }\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/d3-sankey/~/d3-shape/src/symbol/circle.js\n// module id = 37\n// module chunks = 0 1","export default {\n  draw: function(context, size) {\n    var r = Math.sqrt(size / 5) / 2;\n    context.moveTo(-3 * r, -r);\n    context.lineTo(-r, -r);\n    context.lineTo(-r, -3 * r);\n    context.lineTo(r, -3 * r);\n    context.lineTo(r, -r);\n    context.lineTo(3 * r, -r);\n    context.lineTo(3 * r, r);\n    context.lineTo(r, r);\n    context.lineTo(r, 3 * r);\n    context.lineTo(-r, 3 * r);\n    context.lineTo(-r, r);\n    context.lineTo(-3 * r, r);\n    context.closePath();\n  }\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/d3-sankey/~/d3-shape/src/symbol/cross.js\n// module id = 38\n// module chunks = 0 1","var tan30 = Math.sqrt(1 / 3),\n    tan30_2 = tan30 * 2;\n\nexport default {\n  draw: function(context, size) {\n    var y = Math.sqrt(size / tan30_2),\n        x = y * tan30;\n    context.moveTo(0, -y);\n    context.lineTo(x, 0);\n    context.lineTo(0, y);\n    context.lineTo(-x, 0);\n    context.closePath();\n  }\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/d3-sankey/~/d3-shape/src/symbol/diamond.js\n// module id = 39\n// module chunks = 0 1","export default {\n  draw: function(context, size) {\n    var w = Math.sqrt(size),\n        x = -w / 2;\n    context.rect(x, x, w, w);\n  }\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/d3-sankey/~/d3-shape/src/symbol/square.js\n// module id = 40\n// module chunks = 0 1","import {pi, tau} from \"../math\";\n\nvar ka = 0.89081309152928522810,\n    kr = Math.sin(pi / 10) / Math.sin(7 * pi / 10),\n    kx = Math.sin(tau / 10) * kr,\n    ky = -Math.cos(tau / 10) * kr;\n\nexport default {\n  draw: function(context, size) {\n    var r = Math.sqrt(size * ka),\n        x = kx * r,\n        y = ky * r;\n    context.moveTo(0, -r);\n    context.lineTo(x, y);\n    for (var i = 1; i < 5; ++i) {\n      var a = tau * i / 5,\n          c = Math.cos(a),\n          s = Math.sin(a);\n      context.lineTo(s * r, -c * r);\n      context.lineTo(c * x - s * y, s * x + c * y);\n    }\n    context.closePath();\n  }\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/d3-sankey/~/d3-shape/src/symbol/star.js\n// module id = 41\n// module chunks = 0 1","var sqrt3 = Math.sqrt(3);\n\nexport default {\n  draw: function(context, size) {\n    var y = -Math.sqrt(size / (sqrt3 * 3));\n    context.moveTo(0, y * 2);\n    context.lineTo(-sqrt3 * y, -y);\n    context.lineTo(sqrt3 * y, -y);\n    context.closePath();\n  }\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/d3-sankey/~/d3-shape/src/symbol/triangle.js\n// module id = 42\n// module chunks = 0 1","var c = -0.5,\n    s = Math.sqrt(3) / 2,\n    k = 1 / Math.sqrt(12),\n    a = (k / 2 + 1) * 3;\n\nexport default {\n  draw: function(context, size) {\n    var r = Math.sqrt(size / a),\n        x0 = r / 2,\n        y0 = r * k,\n        x1 = x0,\n        y1 = r * k + r,\n        x2 = -x1,\n        y2 = y1;\n    context.moveTo(x0, y0);\n    context.lineTo(x1, y1);\n    context.lineTo(x2, y2);\n    context.lineTo(c * x0 - s * y0, s * x0 + c * y0);\n    context.lineTo(c * x1 - s * y1, s * x1 + c * y1);\n    context.lineTo(c * x2 - s * y2, s * x2 + c * y2);\n    context.lineTo(c * x0 + s * y0, c * y0 - s * x0);\n    context.lineTo(c * x1 + s * y1, c * y1 - s * x1);\n    context.lineTo(c * x2 + s * y2, c * y2 - s * x2);\n    context.closePath();\n  }\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/d3-sankey/~/d3-shape/src/symbol/wye.js\n// module id = 43\n// module chunks = 0 1","import {min} from \"d3-array\";\n\nfunction targetDepth(d) {\n  return d.target.depth;\n}\n\nexport function left(node) {\n  return node.depth;\n}\n\nexport function right(node, n) {\n  return n - 1 - node.height;\n}\n\nexport function justify(node, n) {\n  return node.sourceLinks.length ? node.depth : n - 1;\n}\n\nexport function center(node) {\n  return node.targetLinks.length ? node.depth\n      : node.sourceLinks.length ? min(node.sourceLinks, targetDepth) - 1\n      : 0;\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/d3-sankey/src/align.js\n// module id = 44\n// module chunks = 0 1","import \"./styles.scss\";\nimport component from \"./component\";\n\nexport default Vizabi.Tool.extend(\"Sankey\", {\n\n  init(placeholder, externalModel) {\n\n    this.name = \"sankey\";\n\n    this.components = [\n      {\n        component,\n        placeholder: \".vzb-tool-viz\",\n        model: [\n          \"state.time\",\n          \"state.entities_from\",\n          \"state.entities\",\n          \"state.marker_links\",\n          \"state.marker\",\n          \"locale\",\n          \"ui\",\n        ]\n      },\n      {\n        component: Vizabi.Component.get(\"timeslider\"),\n        placeholder: \".vzb-tool-timeslider\",\n        model: [\"state.time\", \"state.entities_from\", \"state.marker_links\", \"ui\"]\n      },\n      {\n        component: Vizabi.Component.get(\"dialogs\"),\n        placeholder: \".vzb-tool-dialogs\",\n        model: [\"state\", \"ui\", \"locale\"]\n      },\n      {\n        component: Vizabi.Component.get(\"buttonlist\"),\n        placeholder: \".vzb-tool-buttonlist\",\n        model: [\"state\", \"ui\", \"locale\"]\n      },\n      {\n        component: Vizabi.Component.get(\"treemenu\"),\n        placeholder: \".vzb-tool-treemenu\",\n        model: [\"state.marker_links\", \"state.marker_tags\", \"state.time\", \"locale\"]\n      },\n      {\n        component: Vizabi.Component.get(\"datanotes\"),\n        placeholder: \".vzb-tool-datanotes\",\n        model: [\"state.marker_links\", \"locale\"]\n      },\n      {\n        component: Vizabi.Component.get(\"datawarning\"),\n        placeholder: \".vzb-tool-datawarning\",\n        model: [\"locale\"]\n      },\n      {\n        component: Vizabi.Component.get(\"steppedspeedslider\"),\n        placeholder: \".vzb-tool-stepped-speed-slider\",\n        model: [\"state.time\", \"locale\"]\n      }\n    ];\n\n    this._super(placeholder, externalModel);\n  },\n\n  default_model: {}\n\n});\n\n\n\n// WEBPACK FOOTER //\n// ./src/index.js","import { sankey, sankeyLinkHorizontal } from \"d3-sankey\";\n\nconst {\n  Component,\n  utils,\n  iconset,\n} = Vizabi;\n\nconst Sankey = Component.extend(\"sankey\", {\n\n  init(config, context) {\n    this.name = \"sankey-component\";\n    this.template = require(\"./template.html\");\n\n    this.model_expects = [\n      {\n        name: \"time\",\n        type: \"time\"\n      },\n      {\n        name: \"entities\",\n        type: \"entities\"\n      },\n      {\n        name: \"entitiesAll\",\n        type: \"entities\"\n      },\n      {\n        name: \"marker\",\n        type: \"marker\"\n      },\n      {\n        name: \"markerEntities\",\n        type: \"marker\"\n      },\n      {\n        name: \"locale\",\n        type: \"locale\"\n      },\n      {\n        name: \"ui\",\n        type: \"ui\"\n      }\n    ];\n\n    this.model_binds = {\n      \"change:time.playing\": () =>\n        this._updateAllLabelsOpacity(),\n\n      \"change:time.value\": () =>\n        this._updateValues()\n          .then(() => this._redraw()),\n\n      \"change:markerEntities.select\": () => {\n        this._highlightEntities();\n        this._updateAllLabelsOpacity();\n      },\n\n      \"change:markerEntities.highlight\": () => {\n        this._unhighlightEntities();\n        this._highlightEntities();\n        this._updateAllLabelsOpacity();\n      },\n    };\n\n    this._super(config, context);\n  },\n\n  readyOnce() {\n    this._initSettings();\n    this._setProfile();\n    this._initBasics();\n    this._initHeader();\n    this._initFooter();\n    this._initSankey();\n  },\n\n  _initBasics() {\n    this._element = d3.select(this.element);\n    this._svg = this._element.select(this._css.dot(this._css.classes.svg));\n    this._defs = this._svg.select(\"defs\");\n\n    const formatNumber = d3.format(\",.0f\");\n    this._format = d => `${formatNumber(d)} TWh`;\n\n    this._translator = this.model.locale.getTFunction();\n\n    this._calculateSize();\n  },\n\n  _initSettings() {\n    this._settings = {\n      labelPadding: 5,\n      iconMargin: 5,\n      gradientTransitionDuration: 300,\n    };\n\n    this._profiles = {\n      small: {\n        nodeWidth: 15,\n        iconSize: 16,\n        nodePadding: 3,\n        margin: { top: 10, left: 10, bottom: 10, right: 10 },\n      },\n      medium: {\n        nodeWidth: 17,\n        iconSize: 16,\n        nodePadding: 6,\n        margin: { top: 10, left: 10, bottom: 10, right: 10 },\n      },\n      large: {\n        nodeWidth: 19,\n        iconSize: 16,\n        nodePadding: 10,\n        margin: { top: 10, left: 10, bottom: 10, right: 10 },\n      },\n    };\n\n    this._presentationProfiles = {\n      medium: Object.assign({}, this._profiles.medium, {\n        nodeWidth: 22,\n      }),\n      large: Object.assign({}, this._profiles.large, {\n        nodeWidth: 25,\n      }),\n    };\n\n    this._css = {\n      dot: classNames => classNames.split(\" \").filter(Boolean).map(c => `.${c}`).join(\" \"),\n\n      classes: {\n        svg: \"vzb-sankey-svg\",\n        header: \"vzb-sankey-header\",\n        headerText: \"vzb-sankey-header-text\",\n        footer: \"vzb-sankey-footer\",\n        footerText: \"vzb-sankey-footer-text\",\n        info: \"vzb-data-info-icon\",\n        warning: \"vzb-data-warning-icon\",\n        nodesContainer: \"nodes-container\",\n        node: \"node\",\n        defaultText: \"default-text\",\n        strokeText: \"stroke-text\",\n        stroke: \"stroke\",\n        linksContainer: \"links-container\",\n        link: \"link\",\n        gradientLinksContainer: \"gradient-links-container\",\n        gradientLink: \"gradient-link\",\n      },\n    };\n  },\n\n  _calculateSize() {\n    this._width = utils.px2num(this._element.style(\"width\"));\n    this._height = utils.px2num(this._element.style(\"height\"));\n  },\n\n  _initHeader() {\n    this._header = this._svg.select(this._css.dot(this._css.classes.header));\n\n    this._initHeaderText();\n    this._initHeaderInfo();\n  },\n\n  _initHeaderText() {\n    this._headerText = this._header.select(this._css.dot(this._css.classes.headerText))\n      .on(\"click\", () =>\n        this.parent\n          .findChildByName(\"gapminder-treemenu\")\n          .markerID(\"size\")\n          .alignX(\"left\")\n          .alignY(\"top\")\n          .updateView()\n          .toggle()\n      );\n  },\n\n  _initHeaderInfo() {\n    const _this = this;\n\n    this._info = this._header.select(this._css.dot(this._css.classes.info))\n      .on(\"mouseover\", function() {\n        const rect = this.getBBox();\n        const ctx = utils.makeAbsoluteContext(this, this.farthestViewportElement);\n        const coord = ctx(rect.x - 10, rect.y + rect.height + 10);\n\n        _this.parent.findChildByName(\"gapminder-datanotes\")\n          .setHook(\"size\")\n          .show()\n          .setPos(coord.x, coord.y);\n      })\n      .on(\"mouseout\", () => _this.parent.findChildByName(\"gapminder-datanotes\").hide())\n      .on(\"click\", () => this.parent.findChildByName(\"gapminder-datanotes\").pin());\n\n    utils.setIcon(this._info, iconset.question)\n      .select(\"svg\")\n      .attr(\"width\", 0)\n      .attr(\"height\", 0);\n  },\n\n  _initFooter() {\n    this._footer = this._svg.selectAll(this._css.dot(this._css.classes.footer));\n\n    this._initFooterText();\n    this._initFooterWarning();\n  },\n\n  _initFooterText() {\n    this._footerText = this._footer.select(this._css.dot(this._css.classes.footerText))\n      .text(this._translator(\"hints/dataWarning\"));\n  },\n\n  _initFooterWarning() {\n    this._warning = this._footer.select(this._css.dot(this._css.classes.warning))\n      .on(\"mouseover\", () => this._updateDoubtOpaciy(1))\n      .on(\"mouseout\", () => this._updateDoubtOpaciy(0))\n      .on(\"click\", () => this.parent.findChildByName(\"gapminder-datawarning\").toggle());\n\n    utils.setIcon(this._warning, iconset.warn)\n      .select(\"svg\")\n      .attr(\"width\", 0)\n      .attr(\"height\", 0);\n  },\n\n  _initSankey() {\n    this._sankey = sankey();\n\n    this._linksContainer = this._svg.select(this._css.dot(this._css.classes.linksContainer));\n    this._gradientLinksContainer = this._svg.select(this._css.dot(this._css.classes.gradientLinksContainer));\n    this._nodesContainer = this._svg.select(this._css.dot(this._css.classes.nodesContainer));\n  },\n\n\n  ready() {\n    this._setProfile();\n    this._redrawHeader();\n    this._redrawFooter();\n    this._resizeSankey();\n    this._makeMaxValuesGraph()\n      .then(() => this._updateValues())\n      .then(() => {\n        this._redraw();\n        this._updateAllLabelsOpacity();\n      });\n  },\n\n  resize() {\n    this._setProfile();\n    this._calculateSize();\n    this._redrawHeader();\n    this._redrawFooter();\n    this._resizeSankey();\n    this._redraw();\n    this._updateAllLabelsOpacity();\n  },\n\n  _setProfile() {\n    this._activeProfile = this.getActiveProfile(this._profiles, this._presentationProfiles);\n  },\n\n  _resizeSankey() {\n    const headerBBox = this._header.node().getBBox();\n\n    const footerBBox = this._footer.node().getBBox();\n\n    this._sankey\n      .nodePadding(this._activeProfile.nodePadding)\n      .nodeWidth(this._activeProfile.nodeWidth);\n\n    this._sankey\n      .extent([[\n        this._activeProfile.margin.left,\n        this._activeProfile.margin.top * 2 + headerBBox.height,\n      ], [\n        this._width - this._activeProfile.margin.right,\n        this._height - this._activeProfile.margin.bottom * 2 - footerBBox.height,\n      ]]);\n  },\n\n  _redraw() {\n    this._sankey(this._graph);\n\n    this._getAnimationDuration();\n    this._adaptToMaxValues();\n    this._redrawLinks();\n    this._redrawNodes();\n    this._highlightEntities();\n  },\n\n  _adaptToMaxValues() {\n    this._sankey(this._maxValuesGraph = this._buildGraph(this._maxValues));\n\n    const [nodeData] = this._maxValuesGraph.nodes;\n    const graphRatio = nodeData.value / this._getNodeHeight(nodeData);\n\n    this._graph.nodes = this._graph.nodes.map((node, i) => {\n      const nodeData = this._maxValuesGraph.nodes[i];\n      const maxValueNodeCenter = nodeData.y0 + this._getNodeHeight(nodeData) / 2;\n      const halfNodeHeight = node.value / graphRatio / 2;\n\n      return Object.assign(node, {\n        y0: maxValueNodeCenter - halfNodeHeight,\n        y1: maxValueNodeCenter + halfNodeHeight,\n      });\n    });\n\n    this._graph.links = this._graph.links.map((link, i) =>\n      Object.assign(link, {\n        width: link.value / graphRatio,\n      })\n    );\n\n    this._sankey.update(this._graph);\n  },\n\n  _getAnimationDuration() {\n    const { time } = this.model;\n    this._prevTime = this._nextTime || time.value;\n    this._nextTime = time.value;\n\n    return this._duration = time.playing && this._nextTime - this._prevTime > 0 ? time.delayAnimations : 0;\n  },\n\n  _redrawHeader() {\n    this._headerText\n      .text(this.model.marker.size.getConceptprops().name);\n\n    const headerTextBBox = this._headerText.node().getBBox();\n\n    const headerTextPosition = {\n      x: this._activeProfile.margin.left,\n      y: this._activeProfile.margin.top + headerTextBBox.height,\n    };\n\n    this._headerText\n      .attr(\"transform\", `translate(${headerTextPosition.x}, ${headerTextPosition.y})`);\n\n    const infoPosition = {\n      x: this._activeProfile.margin.left + headerTextBBox.width + this._settings.iconMargin,\n      y: this._activeProfile.margin.top,\n    };\n\n    this._info\n      .attr(\"transform\", `translate(${infoPosition.x}, ${infoPosition.y})`)\n      .select(\"svg\")\n      .attr(\"width\", this._activeProfile.iconSize)\n      .attr(\"height\", this._activeProfile.iconSize);\n  },\n\n  _redrawFooter() {\n    const footerTextBBox = this._footerText.node().getBBox();\n\n    const textPosition = {\n      x: this._width - this._activeProfile.margin.right - footerTextBBox.width,\n      y: this._height - this._activeProfile.margin.bottom,\n    };\n\n    this._footerText\n      .attr(\"transform\", `translate(${textPosition.x}, ${textPosition.y})`);\n\n    const warningPosition = {\n      x: (\n        this._width\n        - this._activeProfile.margin.right\n        - footerTextBBox.width\n        - this._activeProfile.iconSize\n        - this._settings.iconMargin\n      ),\n      y: this._height - this._activeProfile.margin.bottom - this._activeProfile.iconSize,\n    };\n\n    this._warning\n      .attr(\"transform\", `translate(${warningPosition.x}, ${warningPosition.y})`)\n      .select(\"svg\")\n      .attr(\"width\", this._activeProfile.iconSize)\n      .attr(\"height\", this._activeProfile.iconSize);\n  },\n\n  _updateDoubtOpaciy(opaciy = 0) {\n\n  },\n\n  _redrawLinks() {\n    this._redrawDefaultLinks();\n    this._redrawGradientLinks();\n  },\n\n  _redrawDefaultLinks() {\n    const links = this._linksContainer.selectAll(this._css.dot(this._css.classes.link))\n      .data(this._graph.links);\n\n    links.exit().remove();\n\n    const linksEnter = links.enter().append(\"path\")\n      .attr(\"class\", this._css.classes.link);\n\n    linksEnter.append(\"title\");\n\n    const mergedLinks = this._links = links.merge(linksEnter);\n\n    mergedLinks\n      .transition().duration(this._duration)\n      .attr(\"d\", sankeyLinkHorizontal())\n      .attr(\"stroke-width\", d => Math.max(1, d.width))\n      .style(\"stroke\", d => this._createGradientDef(d));\n\n    mergedLinks.select(\"title\")\n      .text(d => {\n        const { value, source, target } = d;\n        const { label } = this._entities;\n\n        return label[source.name] + \"  \" + label[target.name] + \"\\n\" + this._format(value);\n      });\n  },\n\n  _redrawGradientLinks() {\n    const gradientLinks = this._gradientLinksContainer.selectAll(this._css.dot(this._css.classes.gradientLink))\n      .data(this._graph.links);\n\n    gradientLinks.exit().remove();\n\n    const gradientLinksEnter = gradientLinks.enter().append(\"path\")\n      .attr(\"class\", this._css.classes.gradientLink);\n\n    const mergedGradientLinks = this._gradientLinks = gradientLinks.merge(gradientLinksEnter);\n\n    mergedGradientLinks\n      .style(\"opacity\", 0);\n\n    (this._duration ? mergedGradientLinks.transition().duration(this._duration) : mergedGradientLinks)\n      .attr(\"d\", sankeyLinkHorizontal())\n      .attr(\"stroke-width\", d => Math.max(1, d.width))\n      .each(this._setDash)\n      .style(\"stroke\", d => this._createGradientDef(d));\n  },\n\n  _createGradientDef(d) {\n    const [\n      sourceColor,\n      targetColor,\n    ] = [\n      this._entities.color[d.source.name],\n      this._entities.color[d.target.name],\n    ].map(color => color.replace(\"#\", \"\"));\n\n    const id = `c-${sourceColor}-to-${targetColor}`;\n    if (!this._defs.select(\"#\" + id).node()) {\n      const gradient = this._defs\n        .append(\"linearGradient\")\n        .attr(\"id\", id)\n        .attr(\"x1\", \"0%\")\n        .attr(\"y1\", \"0%\")\n        .attr(\"x2\", \"100%\")\n        .attr(\"y2\", \"0%\")\n        .attr(\"spreadMethod\", \"pad\");\n\n      const roundTo = 10;\n      const areNodesHorizontallyEqual = (\n        d.source.y0.toFixed(roundTo) === d.target.y0.toFixed(roundTo)\n        || d.source.y1.toFixed(roundTo) === d.target.y1.toFixed(roundTo)\n      );\n\n      areNodesHorizontallyEqual && gradient.attr(\"gradientUnits\", \"userSpaceOnUse\");\n\n      gradient.append(\"stop\")\n        .attr(\"offset\", \"0%\")\n        .attr(\"stop-color\", \"#\" + sourceColor)\n        .attr(\"stop-opacity\", 1);\n\n      gradient.append(\"stop\")\n        .attr(\"offset\", `${areNodesHorizontallyEqual ? 50 : 100}%`)\n        .attr(\"stop-color\", \"#\" + targetColor)\n        .attr(\"stop-opacity\", 1);\n    }\n\n    return \"url(#\" + id + \")\";\n  },\n\n  _setDash() {\n    const $this = d3.select(this);\n    const totalLength = $this.node().getTotalLength();\n\n    $this\n      .attr(\"stroke-dasharray\", totalLength)\n      .attr(\"stroke-dashoffset\", totalLength);\n  },\n\n  _redrawNodes() {\n    const _this = this;\n\n    const { markerEntities } = this.model;\n\n    const nodes = this._nodesContainer.selectAll(this._css.dot(this._css.classes.node))\n      .data(this._graph.nodes);\n\n    nodes.exit().remove();\n\n    const nodesEnter = nodes.enter().append(\"g\")\n      .attr(\"class\", this._css.classes.node);\n\n    nodesEnter.append(\"rect\");\n    nodesEnter.append(\"title\");\n    nodesEnter.append(\"text\")\n      .classed(this._css.classes.strokeText, true);\n    nodesEnter.append(\"text\")\n      .classed(this._css.classes.defaultText, true)\n      .classed(this._css.classes.stroke, true);\n\n    const mergedNodes = this._nodes = nodes.merge(nodesEnter);\n\n    mergedNodes\n      .on(\"mouseover\", d => markerEntities.highlightMarker(d))\n      .on(\"mouseout\", d => markerEntities.clearHighlighted(d))\n      .on(\"click\", d => markerEntities.selectMarker(d));\n\n    mergedNodes.select(\"rect\")\n      .transition().duration(this._duration)\n      .attr(\"x\", d => d.x0)\n      .attr(\"y\", d => d.y0)\n      .attr(\"height\", this._getNodeHeight)\n      .attr(\"width\", d => d.x1 - d.x0)\n      .attr(\"fill\", d => this._entities.color[d.name]);\n\n    let isPaintOrderAvailable = true;\n    const textCallback = function(d) {\n      const view = d3.select(this);\n      isPaintOrderAvailable = view.style(\"paint-order\").length > 0;\n\n      const isRtlText = d.x0 < _this._width / 2;\n      const x = isRtlText ?\n        d.x1 + _this._settings.labelPadding :\n        d.x0 - _this._settings.labelPadding;\n      const textAnchor = isRtlText ? \"start\" : \"end\";\n\n      view\n        .transition().duration(_this._duration)\n        .attr(\"x\", x)\n        .attr(\"y\", (d.y1 + d.y0) / 2)\n        .attr(\"dy\", \"0.35em\")\n        .attr(\"text-anchor\", textAnchor)\n        .style(\"font-size\", `${_this.model.ui.presentation ? 16 : 12}px`)\n        .text(_this._entities.label[d.name]);\n    };\n\n    mergedNodes.select(this._css.dot(this._css.classes.defaultText))\n      .each(textCallback);\n\n    const strokeTextSelection = mergedNodes.select(this._css.dot(this._css.classes.strokeText));\n    if (isPaintOrderAvailable) {\n      strokeTextSelection.remove();\n    } else {\n      strokeTextSelection.each(textCallback);\n\n      mergedNodes.select(this._css.dot(this._css.classes.defaultText))\n        .classed(\"stroke\", false);\n    }\n\n\n    mergedNodes.select(\"title\")\n      .text(d => this._entities.label[d.name] + \"\\n\" + this._format(d.value));\n  },\n\n  _getNodeHeight(d) {\n    return d.y1 - d.y0;\n  },\n\n  _updateAllLabelsOpacity() {\n    const _this = this;\n\n    this._nodes.select(\"text\")\n      .each(function(d) {\n        _this._updateLabelOpacity(d, d3.select(this));\n      });\n  },\n\n  _updateLabelOpacity(d, view) {\n    const { markerEntities } = this.model;\n\n    const nodeHeightWithPadding = this._getNodeHeight(d) + this._activeProfile.nodePadding;\n    const visibility = (\n      nodeHeightWithPadding >= view.node().getBBox().height\n      || markerEntities.isSelected(d)\n      || markerEntities.isHighlighted(d) ?\n        null :\n        \"hidden\"\n    );\n\n    view\n      .style(\"visibility\", visibility);\n  },\n\n  _getLayer(filter) {\n    const anotherLayerLinksData = [];\n\n    const links = this._gradientLinks\n      .filter(linkData => filter(linkData, anotherLayerLinksData));\n\n    return {\n      links,\n      anotherLayerLinksData,\n    };\n  },\n\n  _getPrevLayer(nodeData) {\n    return this._getLayer(\n      (linkData, anotherLayerLinksData) => {\n        const result = nodeData.targetLinks.includes(linkData);\n        result && anotherLayerLinksData.push(linkData.source);\n        return result;\n      }\n    );\n  },\n\n  _getNextLayer(nodeData) {\n    return this._getLayer(\n      (linkData, anotherLayerLinksData) => {\n        const result = nodeData.sourceLinks.includes(linkData);\n        result && anotherLayerLinksData.push(linkData.target);\n        return result;\n      }\n    );\n  },\n\n  _highlightBranches(nodeData, isAnimation = false) {\n    this._highlightPrevLayer(nodeData, isAnimation);\n    this._highlightNextLayer(nodeData, isAnimation);\n  },\n\n  _highlightPrevLayer(nodeData, isAnimation) {\n    const {\n      links,\n      anotherLayerLinksData,\n    } = this._getPrevLayer(nodeData);\n\n    const preparedLinks = links.attr(\"stroke-dashoffset\", function() {\n      return -Math.abs(d3.select(this).attr(\"stroke-dashoffset\"));\n    });\n\n    this._highlightLayer(preparedLinks, isAnimation)\n      .then(() => anotherLayerLinksData.forEach(d => this._highlightPrevLayer(d, isAnimation)));\n  },\n\n  _highlightNextLayer(nodeData, isAnimation) {\n    const {\n      links,\n      anotherLayerLinksData,\n    } = this._getNextLayer(nodeData);\n\n    this._highlightLayer(links, isAnimation)\n      .then(() => anotherLayerLinksData.forEach(d => this._highlightNextLayer(d, isAnimation)));\n  },\n\n  _highlightLayer(links, isAnimation) {\n    const highlight = links =>\n      isAnimation ?\n        links\n          .attr(\"stroke-dashoffset\", 0) :\n        links\n          .attr(\"stroke-dashoffset\", null)\n          .attr(\"stroke-dasharray\", null);\n\n    links.style(\"opacity\", null);\n\n    return new Promise(resolve => {\n      if (isAnimation) {\n        highlight(\n          links\n            .transition()\n            .duration(this._settings.gradientTransitionDuration)\n            .ease(d3.easeLinear)\n        ).on(\"end\", resolve);\n      } else {\n        highlight(links);\n        resolve();\n      }\n    });\n  },\n\n  _highlightEntities() {\n    const _this = this;\n\n    const { markerEntities } = this.model;\n    const areSomeSelected = markerEntities.getSelected().length;\n\n    this._nodes\n      .each(function(d) {\n        const isSelected = markerEntities.isSelected(d);\n        const isHighlighted = markerEntities.isHighlighted(d);\n\n        d3.select(this)\n          .classed(\"darkened\", areSomeSelected && !isSelected);\n\n        if (isSelected || isHighlighted) {\n          _this._highlightBranches(d, isHighlighted && !isSelected);\n        }\n      });\n  },\n\n  _unhighlightEntities() {\n    this._gradientLinks\n      .interrupt()\n      .style(\"opacity\", 0)\n      .each(this._setDash);\n  },\n\n  _makeMaxValuesGraph() {\n    return this._getAllValues()\n      .then(() => this._getMaxValues());\n  },\n\n  _getMaxValues() {\n    return this._maxValues = Object.keys(this._allValues)\n      .reduce((result, time, index) => {\n        const currentYearValues = this._allValues[time].size;\n\n        Object.keys(currentYearValues)\n          .forEach(sourceKey => {\n            const source = currentYearValues[sourceKey];\n            !index && (result[sourceKey] = {});\n            const resultSource = result[sourceKey];\n\n            Object.keys(source)\n              .forEach(targetKey => {\n                const value = source[targetKey];\n                (!index || resultSource[targetKey] < value) && (resultSource[targetKey] = value);\n              });\n          });\n\n        return result;\n      }, {});\n  },\n\n  _getAllValues() {\n    return new Promise(resolve =>\n      this.model.marker.getFrame(null, _allValues =>\n        resolve(Object.assign(this, { _allValues }))\n      )\n    );\n  },\n\n  _getValues() {\n    return Promise.all([\n      new Promise(resolve =>\n        this.model.markerEntities.getFrame(this.model.time.value, ({ color, label }) =>\n          resolve(Object.assign(this, { _entities: { color, label } }))\n        )\n      ),\n      new Promise(resolve => {\n        const _values = this._allValues[this.model.time.value];\n\n        _values ?\n          resolve(Object.assign(this, { _values })) :\n          this.model.marker.getFrame(this.model.time.value, _values =>\n            resolve(Object.assign(this, { _values }))\n          );\n      })\n    ]);\n  },\n\n  _buildGraph(values) {\n    const graph = { nodes: [], links: [] };\n\n    Object.keys(values).forEach(source => {\n      const nested = values[source];\n\n      graph.nodes.push({ name: source });\n\n      Object.keys(nested).forEach(target => {\n        graph.nodes.push({ name: target });\n\n        graph.links.push({\n          source,\n          target,\n          value: nested[target]\n        });\n      });\n    });\n\n    graph.nodes = graph.nodes\n      .map(d => d.name)\n      .filter((v, i, a) => i === a.indexOf(v));\n\n    graph.links.forEach(d => {\n      d.source = graph.nodes.indexOf(d.source);\n      d.target = graph.nodes.indexOf(d.target);\n    });\n\n    const dim = this.model.entitiesAll.getDimension();\n    graph.nodes = graph.nodes.map(name => ({ [dim]: name, name }));\n\n    return graph;\n  },\n\n  _updateValues() {\n    return this._getValues()\n      .then(() => this._graph = this._buildGraph(this._values.size));\n  },\n\n});\n\nexport default Sankey;\n\n\n\n// WEBPACK FOOTER //\n// ./src/component.js","export default function(x) {\n  return function() {\n    return x;\n  };\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/d3-array/src/constant.js\n// module id = 47\n// module chunks = 0 1","import {pair} from \"./pairs\";\n\nexport default function(values0, values1, reduce) {\n  var n0 = values0.length,\n      n1 = values1.length,\n      values = new Array(n0 * n1),\n      i0,\n      i1,\n      i,\n      value0;\n\n  if (reduce == null) reduce = pair;\n\n  for (i0 = i = 0; i0 < n0; ++i0) {\n    for (value0 = values0[i0], i1 = 0; i1 < n1; ++i1, ++i) {\n      values[i] = reduce(value0, values1[i1]);\n    }\n  }\n\n  return values;\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/d3-array/src/cross.js\n// module id = 48\n// module chunks = 0 1","export default function(a, b) {\n  return b < a ? -1 : b > a ? 1 : b >= a ? 0 : NaN;\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/d3-array/src/descending.js\n// module id = 49\n// module chunks = 0 1","import {slice} from \"./array\";\nimport bisect from \"./bisect\";\nimport constant from \"./constant\";\nimport extent from \"./extent\";\nimport identity from \"./identity\";\nimport range from \"./range\";\nimport {tickStep} from \"./ticks\";\nimport sturges from \"./threshold/sturges\";\n\nexport default function() {\n  var value = identity,\n      domain = extent,\n      threshold = sturges;\n\n  function histogram(data) {\n    var i,\n        n = data.length,\n        x,\n        values = new Array(n);\n\n    for (i = 0; i < n; ++i) {\n      values[i] = value(data[i], i, data);\n    }\n\n    var xz = domain(values),\n        x0 = xz[0],\n        x1 = xz[1],\n        tz = threshold(values, x0, x1);\n\n    // Convert number of thresholds into uniform thresholds.\n    if (!Array.isArray(tz)) {\n      tz = tickStep(x0, x1, tz);\n      tz = range(Math.ceil(x0 / tz) * tz, Math.floor(x1 / tz) * tz, tz); // exclusive\n    }\n\n    // Remove any thresholds outside the domain.\n    var m = tz.length;\n    while (tz[0] <= x0) tz.shift(), --m;\n    while (tz[m - 1] > x1) tz.pop(), --m;\n\n    var bins = new Array(m + 1),\n        bin;\n\n    // Initialize bins.\n    for (i = 0; i <= m; ++i) {\n      bin = bins[i] = [];\n      bin.x0 = i > 0 ? tz[i - 1] : x0;\n      bin.x1 = i < m ? tz[i] : x1;\n    }\n\n    // Assign data to bins by value, ignoring any outside the domain.\n    for (i = 0; i < n; ++i) {\n      x = values[i];\n      if (x0 <= x && x <= x1) {\n        bins[bisect(tz, x, 0, m)].push(data[i]);\n      }\n    }\n\n    return bins;\n  }\n\n  histogram.value = function(_) {\n    return arguments.length ? (value = typeof _ === \"function\" ? _ : constant(_), histogram) : value;\n  };\n\n  histogram.domain = function(_) {\n    return arguments.length ? (domain = typeof _ === \"function\" ? _ : constant([_[0], _[1]]), histogram) : domain;\n  };\n\n  histogram.thresholds = function(_) {\n    return arguments.length ? (threshold = typeof _ === \"function\" ? _ : Array.isArray(_) ? constant(slice.call(_)) : constant(_), histogram) : threshold;\n  };\n\n  return histogram;\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/d3-array/src/histogram.js\n// module id = 50\n// module chunks = 0 1","export default function(x) {\n  return x;\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/d3-array/src/identity.js\n// module id = 51\n// module chunks = 0 1","export default function(values, valueof) {\n  var n = values.length,\n      i = -1,\n      value,\n      max;\n\n  if (valueof == null) {\n    while (++i < n) { // Find the first comparable value.\n      if ((value = values[i]) != null && value >= value) {\n        max = value;\n        while (++i < n) { // Compare the remaining values.\n          if ((value = values[i]) != null && value > max) {\n            max = value;\n          }\n        }\n      }\n    }\n  }\n\n  else {\n    while (++i < n) { // Find the first comparable value.\n      if ((value = valueof(values[i], i, values)) != null && value >= value) {\n        max = value;\n        while (++i < n) { // Compare the remaining values.\n          if ((value = valueof(values[i], i, values)) != null && value > max) {\n            max = value;\n          }\n        }\n      }\n    }\n  }\n\n  return max;\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/d3-array/src/max.js\n// module id = 52\n// module chunks = 0 1","import number from \"./number\";\n\nexport default function(values, valueof) {\n  var n = values.length,\n      m = n,\n      i = -1,\n      value,\n      sum = 0;\n\n  if (valueof == null) {\n    while (++i < n) {\n      if (!isNaN(value = number(values[i]))) sum += value;\n      else --m;\n    }\n  }\n\n  else {\n    while (++i < n) {\n      if (!isNaN(value = number(valueof(values[i], i, values)))) sum += value;\n      else --m;\n    }\n  }\n\n  if (m) return sum / m;\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/d3-array/src/mean.js\n// module id = 53\n// module chunks = 0 1","import ascending from \"./ascending\";\nimport number from \"./number\";\nimport quantile from \"./quantile\";\n\nexport default function(values, valueof) {\n  var n = values.length,\n      i = -1,\n      value,\n      numbers = [];\n\n  if (valueof == null) {\n    while (++i < n) {\n      if (!isNaN(value = number(values[i]))) {\n        numbers.push(value);\n      }\n    }\n  }\n\n  else {\n    while (++i < n) {\n      if (!isNaN(value = number(valueof(values[i], i, values)))) {\n        numbers.push(value);\n      }\n    }\n  }\n\n  return quantile(numbers.sort(ascending), 0.5);\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/d3-array/src/median.js\n// module id = 54\n// module chunks = 0 1","export default function(arrays) {\n  var n = arrays.length,\n      m,\n      i = -1,\n      j = 0,\n      merged,\n      array;\n\n  while (++i < n) j += arrays[i].length;\n  merged = new Array(j);\n\n  while (--n >= 0) {\n    array = arrays[n];\n    m = array.length;\n    while (--m >= 0) {\n      merged[--j] = array[m];\n    }\n  }\n\n  return merged;\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/d3-array/src/merge.js\n// module id = 55\n// module chunks = 0 1","export default function(array, indexes) {\n  var i = indexes.length, permutes = new Array(i);\n  while (i--) permutes[i] = array[indexes[i]];\n  return permutes;\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/d3-array/src/permute.js\n// module id = 56\n// module chunks = 0 1","import ascending from \"./ascending\";\n\nexport default function(values, compare) {\n  if (!(n = values.length)) return;\n  var n,\n      i = 0,\n      j = 0,\n      xi,\n      xj = values[j];\n\n  if (compare == null) compare = ascending;\n\n  while (++i < n) {\n    if (compare(xi = values[i], xj) < 0 || compare(xj, xj) !== 0) {\n      xj = xi, j = i;\n    }\n  }\n\n  if (compare(xj, xj) === 0) return j;\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/d3-array/src/scan.js\n// module id = 57\n// module chunks = 0 1","export default function(array, i0, i1) {\n  var m = (i1 == null ? array.length : i1) - (i0 = i0 == null ? 0 : +i0),\n      t,\n      i;\n\n  while (m) {\n    i = Math.random() * m-- | 0;\n    t = array[m + i0];\n    array[m + i0] = array[i + i0];\n    array[i + i0] = t;\n  }\n\n  return array;\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/d3-array/src/shuffle.js\n// module id = 58\n// module chunks = 0 1","export default function(values, valueof) {\n  var n = values.length,\n      i = -1,\n      value,\n      sum = 0;\n\n  if (valueof == null) {\n    while (++i < n) {\n      if (value = +values[i]) sum += value; // Note: zero and null are equivalent.\n    }\n  }\n\n  else {\n    while (++i < n) {\n      if (value = +valueof(values[i], i, values)) sum += value;\n    }\n  }\n\n  return sum;\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/d3-array/src/sum.js\n// module id = 59\n// module chunks = 0 1","import {map} from \"../array\";\nimport ascending from \"../ascending\";\nimport number from \"../number\";\nimport quantile from \"../quantile\";\n\nexport default function(values, min, max) {\n  values = map.call(values, number).sort(ascending);\n  return Math.ceil((max - min) / (2 * (quantile(values, 0.75) - quantile(values, 0.25)) * Math.pow(values.length, -1 / 3)));\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/d3-array/src/threshold/freedmanDiaconis.js\n// module id = 60\n// module chunks = 0 1","import deviation from \"../deviation\";\n\nexport default function(values, min, max) {\n  return Math.ceil((max - min) / (3.5 * deviation(values) * Math.pow(values.length, -1 / 3)));\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/d3-array/src/threshold/scott.js\n// module id = 61\n// module chunks = 0 1","import transpose from \"./transpose\";\n\nexport default function() {\n  return transpose(arguments);\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/d3-array/src/zip.js\n// module id = 62\n// module chunks = 0 1","export {default as nest} from \"./src/nest\";\nexport {default as set} from \"./src/set\";\nexport {default as map} from \"./src/map\";\nexport {default as keys} from \"./src/keys\";\nexport {default as values} from \"./src/values\";\nexport {default as entries} from \"./src/entries\";\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/d3-collection/index.js\n// module id = 63\n// module chunks = 0 1","export default function(map) {\n  var entries = [];\n  for (var key in map) entries.push({key: key, value: map[key]});\n  return entries;\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/d3-collection/src/entries.js\n// module id = 64\n// module chunks = 0 1","export default function(map) {\n  var keys = [];\n  for (var key in map) keys.push(key);\n  return keys;\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/d3-collection/src/keys.js\n// module id = 65\n// module chunks = 0 1","import map from \"./map\";\n\nexport default function() {\n  var keys = [],\n      sortKeys = [],\n      sortValues,\n      rollup,\n      nest;\n\n  function apply(array, depth, createResult, setResult) {\n    if (depth >= keys.length) {\n      if (sortValues != null) array.sort(sortValues);\n      return rollup != null ? rollup(array) : array;\n    }\n\n    var i = -1,\n        n = array.length,\n        key = keys[depth++],\n        keyValue,\n        value,\n        valuesByKey = map(),\n        values,\n        result = createResult();\n\n    while (++i < n) {\n      if (values = valuesByKey.get(keyValue = key(value = array[i]) + \"\")) {\n        values.push(value);\n      } else {\n        valuesByKey.set(keyValue, [value]);\n      }\n    }\n\n    valuesByKey.each(function(values, key) {\n      setResult(result, key, apply(values, depth, createResult, setResult));\n    });\n\n    return result;\n  }\n\n  function entries(map, depth) {\n    if (++depth > keys.length) return map;\n    var array, sortKey = sortKeys[depth - 1];\n    if (rollup != null && depth >= keys.length) array = map.entries();\n    else array = [], map.each(function(v, k) { array.push({key: k, values: entries(v, depth)}); });\n    return sortKey != null ? array.sort(function(a, b) { return sortKey(a.key, b.key); }) : array;\n  }\n\n  return nest = {\n    object: function(array) { return apply(array, 0, createObject, setObject); },\n    map: function(array) { return apply(array, 0, createMap, setMap); },\n    entries: function(array) { return entries(apply(array, 0, createMap, setMap), 0); },\n    key: function(d) { keys.push(d); return nest; },\n    sortKeys: function(order) { sortKeys[keys.length - 1] = order; return nest; },\n    sortValues: function(order) { sortValues = order; return nest; },\n    rollup: function(f) { rollup = f; return nest; }\n  };\n}\n\nfunction createObject() {\n  return {};\n}\n\nfunction setObject(object, key, value) {\n  object[key] = value;\n}\n\nfunction createMap() {\n  return map();\n}\n\nfunction setMap(map, key, value) {\n  map.set(key, value);\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/d3-collection/src/nest.js\n// module id = 66\n// module chunks = 0 1","import {default as map, prefix} from \"./map\";\n\nfunction Set() {}\n\nvar proto = map.prototype;\n\nSet.prototype = set.prototype = {\n  constructor: Set,\n  has: proto.has,\n  add: function(value) {\n    value += \"\";\n    this[prefix + value] = value;\n    return this;\n  },\n  remove: proto.remove,\n  clear: proto.clear,\n  values: proto.keys,\n  size: proto.size,\n  empty: proto.empty,\n  each: proto.each\n};\n\nfunction set(object, f) {\n  var set = new Set;\n\n  // Copy constructor.\n  if (object instanceof Set) object.each(function(value) { set.add(value); });\n\n  // Otherwise, assume its an array.\n  else if (object) {\n    var i = -1, n = object.length;\n    if (f == null) while (++i < n) set.add(object[i]);\n    else while (++i < n) set.add(f(object[i], i, object));\n  }\n\n  return set;\n}\n\nexport default set;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/d3-collection/src/set.js\n// module id = 67\n// module chunks = 0 1","export default function(map) {\n  var values = [];\n  for (var key in map) values.push(map[key]);\n  return values;\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/d3-collection/src/values.js\n// module id = 68\n// module chunks = 0 1","var pi = Math.PI,\n    tau = 2 * pi,\n    epsilon = 1e-6,\n    tauEpsilon = tau - epsilon;\n\nfunction Path() {\n  this._x0 = this._y0 = // start of current subpath\n  this._x1 = this._y1 = null; // end of current subpath\n  this._ = \"\";\n}\n\nfunction path() {\n  return new Path;\n}\n\nPath.prototype = path.prototype = {\n  constructor: Path,\n  moveTo: function(x, y) {\n    this._ += \"M\" + (this._x0 = this._x1 = +x) + \",\" + (this._y0 = this._y1 = +y);\n  },\n  closePath: function() {\n    if (this._x1 !== null) {\n      this._x1 = this._x0, this._y1 = this._y0;\n      this._ += \"Z\";\n    }\n  },\n  lineTo: function(x, y) {\n    this._ += \"L\" + (this._x1 = +x) + \",\" + (this._y1 = +y);\n  },\n  quadraticCurveTo: function(x1, y1, x, y) {\n    this._ += \"Q\" + (+x1) + \",\" + (+y1) + \",\" + (this._x1 = +x) + \",\" + (this._y1 = +y);\n  },\n  bezierCurveTo: function(x1, y1, x2, y2, x, y) {\n    this._ += \"C\" + (+x1) + \",\" + (+y1) + \",\" + (+x2) + \",\" + (+y2) + \",\" + (this._x1 = +x) + \",\" + (this._y1 = +y);\n  },\n  arcTo: function(x1, y1, x2, y2, r) {\n    x1 = +x1, y1 = +y1, x2 = +x2, y2 = +y2, r = +r;\n    var x0 = this._x1,\n        y0 = this._y1,\n        x21 = x2 - x1,\n        y21 = y2 - y1,\n        x01 = x0 - x1,\n        y01 = y0 - y1,\n        l01_2 = x01 * x01 + y01 * y01;\n\n    // Is the radius negative? Error.\n    if (r < 0) throw new Error(\"negative radius: \" + r);\n\n    // Is this path empty? Move to (x1,y1).\n    if (this._x1 === null) {\n      this._ += \"M\" + (this._x1 = x1) + \",\" + (this._y1 = y1);\n    }\n\n    // Or, is (x1,y1) coincident with (x0,y0)? Do nothing.\n    else if (!(l01_2 > epsilon)) {}\n\n    // Or, are (x0,y0), (x1,y1) and (x2,y2) collinear?\n    // Equivalently, is (x1,y1) coincident with (x2,y2)?\n    // Or, is the radius zero? Line to (x1,y1).\n    else if (!(Math.abs(y01 * x21 - y21 * x01) > epsilon) || !r) {\n      this._ += \"L\" + (this._x1 = x1) + \",\" + (this._y1 = y1);\n    }\n\n    // Otherwise, draw an arc!\n    else {\n      var x20 = x2 - x0,\n          y20 = y2 - y0,\n          l21_2 = x21 * x21 + y21 * y21,\n          l20_2 = x20 * x20 + y20 * y20,\n          l21 = Math.sqrt(l21_2),\n          l01 = Math.sqrt(l01_2),\n          l = r * Math.tan((pi - Math.acos((l21_2 + l01_2 - l20_2) / (2 * l21 * l01))) / 2),\n          t01 = l / l01,\n          t21 = l / l21;\n\n      // If the start tangent is not coincident with (x0,y0), line to.\n      if (Math.abs(t01 - 1) > epsilon) {\n        this._ += \"L\" + (x1 + t01 * x01) + \",\" + (y1 + t01 * y01);\n      }\n\n      this._ += \"A\" + r + \",\" + r + \",0,0,\" + (+(y01 * x20 > x01 * y20)) + \",\" + (this._x1 = x1 + t21 * x21) + \",\" + (this._y1 = y1 + t21 * y21);\n    }\n  },\n  arc: function(x, y, r, a0, a1, ccw) {\n    x = +x, y = +y, r = +r;\n    var dx = r * Math.cos(a0),\n        dy = r * Math.sin(a0),\n        x0 = x + dx,\n        y0 = y + dy,\n        cw = 1 ^ ccw,\n        da = ccw ? a0 - a1 : a1 - a0;\n\n    // Is the radius negative? Error.\n    if (r < 0) throw new Error(\"negative radius: \" + r);\n\n    // Is this path empty? Move to (x0,y0).\n    if (this._x1 === null) {\n      this._ += \"M\" + x0 + \",\" + y0;\n    }\n\n    // Or, is (x0,y0) not coincident with the previous point? Line to (x0,y0).\n    else if (Math.abs(this._x1 - x0) > epsilon || Math.abs(this._y1 - y0) > epsilon) {\n      this._ += \"L\" + x0 + \",\" + y0;\n    }\n\n    // Is this arc empty? Were done.\n    if (!r) return;\n\n    // Does the angle go the wrong way? Flip the direction.\n    if (da < 0) da = da % tau + tau;\n\n    // Is this a complete circle? Draw two arcs to complete the circle.\n    if (da > tauEpsilon) {\n      this._ += \"A\" + r + \",\" + r + \",0,1,\" + cw + \",\" + (x - dx) + \",\" + (y - dy) + \"A\" + r + \",\" + r + \",0,1,\" + cw + \",\" + (this._x1 = x0) + \",\" + (this._y1 = y0);\n    }\n\n    // Is this arc non-empty? Draw an arc!\n    else if (da > epsilon) {\n      this._ += \"A\" + r + \",\" + r + \",0,\" + (+(da >= pi)) + \",\" + cw + \",\" + (this._x1 = x + r * Math.cos(a1)) + \",\" + (this._y1 = y + r * Math.sin(a1));\n    }\n  },\n  rect: function(x, y, w, h) {\n    this._ += \"M\" + (this._x0 = this._x1 = +x) + \",\" + (this._y0 = this._y1 = +y) + \"h\" + (+w) + \"v\" + (+h) + \"h\" + (-w) + \"Z\";\n  },\n  toString: function() {\n    return this._;\n  }\n};\n\nexport default path;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/d3-path/src/path.js\n// module id = 69\n// module chunks = 0 1","export {default as sankey} from \"./src/sankey\";\nexport {center as sankeyCenter, left as sankeyLeft, right as sankeyRight, justify as sankeyJustify} from \"./src/align\";\nexport {default as sankeyLinkHorizontal} from \"./src/sankeyLinkHorizontal\";\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/d3-sankey/index.js\n// module id = 70\n// module chunks = 0 1","export {default as arc} from \"./src/arc\";\nexport {default as area} from \"./src/area\";\nexport {default as line} from \"./src/line\";\nexport {default as pie} from \"./src/pie\";\nexport {default as areaRadial, default as radialArea} from \"./src/areaRadial\"; // Note: radialArea is deprecated!\nexport {default as lineRadial, default as radialLine} from \"./src/lineRadial\"; // Note: radialLine is deprecated!\nexport {default as pointRadial} from \"./src/pointRadial\";\nexport {linkHorizontal, linkVertical, linkRadial} from \"./src/link/index\";\n\nexport {default as symbol, symbols} from \"./src/symbol\";\nexport {default as symbolCircle} from \"./src/symbol/circle\";\nexport {default as symbolCross} from \"./src/symbol/cross\";\nexport {default as symbolDiamond} from \"./src/symbol/diamond\";\nexport {default as symbolSquare} from \"./src/symbol/square\";\nexport {default as symbolStar} from \"./src/symbol/star\";\nexport {default as symbolTriangle} from \"./src/symbol/triangle\";\nexport {default as symbolWye} from \"./src/symbol/wye\";\n\nexport {default as curveBasisClosed} from \"./src/curve/basisClosed\";\nexport {default as curveBasisOpen} from \"./src/curve/basisOpen\";\nexport {default as curveBasis} from \"./src/curve/basis\";\nexport {default as curveBundle} from \"./src/curve/bundle\";\nexport {default as curveCardinalClosed} from \"./src/curve/cardinalClosed\";\nexport {default as curveCardinalOpen} from \"./src/curve/cardinalOpen\";\nexport {default as curveCardinal} from \"./src/curve/cardinal\";\nexport {default as curveCatmullRomClosed} from \"./src/curve/catmullRomClosed\";\nexport {default as curveCatmullRomOpen} from \"./src/curve/catmullRomOpen\";\nexport {default as curveCatmullRom} from \"./src/curve/catmullRom\";\nexport {default as curveLinearClosed} from \"./src/curve/linearClosed\";\nexport {default as curveLinear} from \"./src/curve/linear\";\nexport {monotoneX as curveMonotoneX, monotoneY as curveMonotoneY} from \"./src/curve/monotone\";\nexport {default as curveNatural} from \"./src/curve/natural\";\nexport {default as curveStep, stepAfter as curveStepAfter, stepBefore as curveStepBefore} from \"./src/curve/step\";\n\nexport {default as stack} from \"./src/stack\";\nexport {default as stackOffsetExpand} from \"./src/offset/expand\";\nexport {default as stackOffsetDiverging} from \"./src/offset/diverging\";\nexport {default as stackOffsetNone} from \"./src/offset/none\";\nexport {default as stackOffsetSilhouette} from \"./src/offset/silhouette\";\nexport {default as stackOffsetWiggle} from \"./src/offset/wiggle\";\nexport {default as stackOrderAscending} from \"./src/order/ascending\";\nexport {default as stackOrderDescending} from \"./src/order/descending\";\nexport {default as stackOrderInsideOut} from \"./src/order/insideOut\";\nexport {default as stackOrderNone} from \"./src/order/none\";\nexport {default as stackOrderReverse} from \"./src/order/reverse\";\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/d3-sankey/~/d3-shape/index.js\n// module id = 71\n// module chunks = 0 1","import {path} from \"d3-path\";\nimport constant from \"./constant\";\nimport {abs, acos, asin, atan2, cos, epsilon, halfPi, max, min, pi, sin, sqrt, tau} from \"./math\";\n\nfunction arcInnerRadius(d) {\n  return d.innerRadius;\n}\n\nfunction arcOuterRadius(d) {\n  return d.outerRadius;\n}\n\nfunction arcStartAngle(d) {\n  return d.startAngle;\n}\n\nfunction arcEndAngle(d) {\n  return d.endAngle;\n}\n\nfunction arcPadAngle(d) {\n  return d && d.padAngle; // Note: optional!\n}\n\nfunction intersect(x0, y0, x1, y1, x2, y2, x3, y3) {\n  var x10 = x1 - x0, y10 = y1 - y0,\n      x32 = x3 - x2, y32 = y3 - y2,\n      t = (x32 * (y0 - y2) - y32 * (x0 - x2)) / (y32 * x10 - x32 * y10);\n  return [x0 + t * x10, y0 + t * y10];\n}\n\n// Compute perpendicular offset line of length rc.\n// http://mathworld.wolfram.com/Circle-LineIntersection.html\nfunction cornerTangents(x0, y0, x1, y1, r1, rc, cw) {\n  var x01 = x0 - x1,\n      y01 = y0 - y1,\n      lo = (cw ? rc : -rc) / sqrt(x01 * x01 + y01 * y01),\n      ox = lo * y01,\n      oy = -lo * x01,\n      x11 = x0 + ox,\n      y11 = y0 + oy,\n      x10 = x1 + ox,\n      y10 = y1 + oy,\n      x00 = (x11 + x10) / 2,\n      y00 = (y11 + y10) / 2,\n      dx = x10 - x11,\n      dy = y10 - y11,\n      d2 = dx * dx + dy * dy,\n      r = r1 - rc,\n      D = x11 * y10 - x10 * y11,\n      d = (dy < 0 ? -1 : 1) * sqrt(max(0, r * r * d2 - D * D)),\n      cx0 = (D * dy - dx * d) / d2,\n      cy0 = (-D * dx - dy * d) / d2,\n      cx1 = (D * dy + dx * d) / d2,\n      cy1 = (-D * dx + dy * d) / d2,\n      dx0 = cx0 - x00,\n      dy0 = cy0 - y00,\n      dx1 = cx1 - x00,\n      dy1 = cy1 - y00;\n\n  // Pick the closer of the two intersection points.\n  // TODO Is there a faster way to determine which intersection to use?\n  if (dx0 * dx0 + dy0 * dy0 > dx1 * dx1 + dy1 * dy1) cx0 = cx1, cy0 = cy1;\n\n  return {\n    cx: cx0,\n    cy: cy0,\n    x01: -ox,\n    y01: -oy,\n    x11: cx0 * (r1 / r - 1),\n    y11: cy0 * (r1 / r - 1)\n  };\n}\n\nexport default function() {\n  var innerRadius = arcInnerRadius,\n      outerRadius = arcOuterRadius,\n      cornerRadius = constant(0),\n      padRadius = null,\n      startAngle = arcStartAngle,\n      endAngle = arcEndAngle,\n      padAngle = arcPadAngle,\n      context = null;\n\n  function arc() {\n    var buffer,\n        r,\n        r0 = +innerRadius.apply(this, arguments),\n        r1 = +outerRadius.apply(this, arguments),\n        a0 = startAngle.apply(this, arguments) - halfPi,\n        a1 = endAngle.apply(this, arguments) - halfPi,\n        da = abs(a1 - a0),\n        cw = a1 > a0;\n\n    if (!context) context = buffer = path();\n\n    // Ensure that the outer radius is always larger than the inner radius.\n    if (r1 < r0) r = r1, r1 = r0, r0 = r;\n\n    // Is it a point?\n    if (!(r1 > epsilon)) context.moveTo(0, 0);\n\n    // Or is it a circle or annulus?\n    else if (da > tau - epsilon) {\n      context.moveTo(r1 * cos(a0), r1 * sin(a0));\n      context.arc(0, 0, r1, a0, a1, !cw);\n      if (r0 > epsilon) {\n        context.moveTo(r0 * cos(a1), r0 * sin(a1));\n        context.arc(0, 0, r0, a1, a0, cw);\n      }\n    }\n\n    // Or is it a circular or annular sector?\n    else {\n      var a01 = a0,\n          a11 = a1,\n          a00 = a0,\n          a10 = a1,\n          da0 = da,\n          da1 = da,\n          ap = padAngle.apply(this, arguments) / 2,\n          rp = (ap > epsilon) && (padRadius ? +padRadius.apply(this, arguments) : sqrt(r0 * r0 + r1 * r1)),\n          rc = min(abs(r1 - r0) / 2, +cornerRadius.apply(this, arguments)),\n          rc0 = rc,\n          rc1 = rc,\n          t0,\n          t1;\n\n      // Apply padding? Note that since r1  r0, da1  da0.\n      if (rp > epsilon) {\n        var p0 = asin(rp / r0 * sin(ap)),\n            p1 = asin(rp / r1 * sin(ap));\n        if ((da0 -= p0 * 2) > epsilon) p0 *= (cw ? 1 : -1), a00 += p0, a10 -= p0;\n        else da0 = 0, a00 = a10 = (a0 + a1) / 2;\n        if ((da1 -= p1 * 2) > epsilon) p1 *= (cw ? 1 : -1), a01 += p1, a11 -= p1;\n        else da1 = 0, a01 = a11 = (a0 + a1) / 2;\n      }\n\n      var x01 = r1 * cos(a01),\n          y01 = r1 * sin(a01),\n          x10 = r0 * cos(a10),\n          y10 = r0 * sin(a10);\n\n      // Apply rounded corners?\n      if (rc > epsilon) {\n        var x11 = r1 * cos(a11),\n            y11 = r1 * sin(a11),\n            x00 = r0 * cos(a00),\n            y00 = r0 * sin(a00);\n\n        // Restrict the corner radius according to the sector angle.\n        if (da < pi) {\n          var oc = da0 > epsilon ? intersect(x01, y01, x00, y00, x11, y11, x10, y10) : [x10, y10],\n              ax = x01 - oc[0],\n              ay = y01 - oc[1],\n              bx = x11 - oc[0],\n              by = y11 - oc[1],\n              kc = 1 / sin(acos((ax * bx + ay * by) / (sqrt(ax * ax + ay * ay) * sqrt(bx * bx + by * by))) / 2),\n              lc = sqrt(oc[0] * oc[0] + oc[1] * oc[1]);\n          rc0 = min(rc, (r0 - lc) / (kc - 1));\n          rc1 = min(rc, (r1 - lc) / (kc + 1));\n        }\n      }\n\n      // Is the sector collapsed to a line?\n      if (!(da1 > epsilon)) context.moveTo(x01, y01);\n\n      // Does the sectors outer ring have rounded corners?\n      else if (rc1 > epsilon) {\n        t0 = cornerTangents(x00, y00, x01, y01, r1, rc1, cw);\n        t1 = cornerTangents(x11, y11, x10, y10, r1, rc1, cw);\n\n        context.moveTo(t0.cx + t0.x01, t0.cy + t0.y01);\n\n        // Have the corners merged?\n        if (rc1 < rc) context.arc(t0.cx, t0.cy, rc1, atan2(t0.y01, t0.x01), atan2(t1.y01, t1.x01), !cw);\n\n        // Otherwise, draw the two corners and the ring.\n        else {\n          context.arc(t0.cx, t0.cy, rc1, atan2(t0.y01, t0.x01), atan2(t0.y11, t0.x11), !cw);\n          context.arc(0, 0, r1, atan2(t0.cy + t0.y11, t0.cx + t0.x11), atan2(t1.cy + t1.y11, t1.cx + t1.x11), !cw);\n          context.arc(t1.cx, t1.cy, rc1, atan2(t1.y11, t1.x11), atan2(t1.y01, t1.x01), !cw);\n        }\n      }\n\n      // Or is the outer ring just a circular arc?\n      else context.moveTo(x01, y01), context.arc(0, 0, r1, a01, a11, !cw);\n\n      // Is there no inner ring, and its a circular sector?\n      // Or perhaps its an annular sector collapsed due to padding?\n      if (!(r0 > epsilon) || !(da0 > epsilon)) context.lineTo(x10, y10);\n\n      // Does the sectors inner ring (or point) have rounded corners?\n      else if (rc0 > epsilon) {\n        t0 = cornerTangents(x10, y10, x11, y11, r0, -rc0, cw);\n        t1 = cornerTangents(x01, y01, x00, y00, r0, -rc0, cw);\n\n        context.lineTo(t0.cx + t0.x01, t0.cy + t0.y01);\n\n        // Have the corners merged?\n        if (rc0 < rc) context.arc(t0.cx, t0.cy, rc0, atan2(t0.y01, t0.x01), atan2(t1.y01, t1.x01), !cw);\n\n        // Otherwise, draw the two corners and the ring.\n        else {\n          context.arc(t0.cx, t0.cy, rc0, atan2(t0.y01, t0.x01), atan2(t0.y11, t0.x11), !cw);\n          context.arc(0, 0, r0, atan2(t0.cy + t0.y11, t0.cx + t0.x11), atan2(t1.cy + t1.y11, t1.cx + t1.x11), cw);\n          context.arc(t1.cx, t1.cy, rc0, atan2(t1.y11, t1.x11), atan2(t1.y01, t1.x01), !cw);\n        }\n      }\n\n      // Or is the inner ring just a circular arc?\n      else context.arc(0, 0, r0, a10, a00, cw);\n    }\n\n    context.closePath();\n\n    if (buffer) return context = null, buffer + \"\" || null;\n  }\n\n  arc.centroid = function() {\n    var r = (+innerRadius.apply(this, arguments) + +outerRadius.apply(this, arguments)) / 2,\n        a = (+startAngle.apply(this, arguments) + +endAngle.apply(this, arguments)) / 2 - pi / 2;\n    return [cos(a) * r, sin(a) * r];\n  };\n\n  arc.innerRadius = function(_) {\n    return arguments.length ? (innerRadius = typeof _ === \"function\" ? _ : constant(+_), arc) : innerRadius;\n  };\n\n  arc.outerRadius = function(_) {\n    return arguments.length ? (outerRadius = typeof _ === \"function\" ? _ : constant(+_), arc) : outerRadius;\n  };\n\n  arc.cornerRadius = function(_) {\n    return arguments.length ? (cornerRadius = typeof _ === \"function\" ? _ : constant(+_), arc) : cornerRadius;\n  };\n\n  arc.padRadius = function(_) {\n    return arguments.length ? (padRadius = _ == null ? null : typeof _ === \"function\" ? _ : constant(+_), arc) : padRadius;\n  };\n\n  arc.startAngle = function(_) {\n    return arguments.length ? (startAngle = typeof _ === \"function\" ? _ : constant(+_), arc) : startAngle;\n  };\n\n  arc.endAngle = function(_) {\n    return arguments.length ? (endAngle = typeof _ === \"function\" ? _ : constant(+_), arc) : endAngle;\n  };\n\n  arc.padAngle = function(_) {\n    return arguments.length ? (padAngle = typeof _ === \"function\" ? _ : constant(+_), arc) : padAngle;\n  };\n\n  arc.context = function(_) {\n    return arguments.length ? ((context = _ == null ? null : _), arc) : context;\n  };\n\n  return arc;\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/d3-sankey/~/d3-shape/src/arc.js\n// module id = 72\n// module chunks = 0 1","import curveRadial, {curveRadialLinear} from \"./curve/radial\";\nimport area from \"./area\";\nimport {lineRadial} from \"./lineRadial\"\n\nexport default function() {\n  var a = area().curve(curveRadialLinear),\n      c = a.curve,\n      x0 = a.lineX0,\n      x1 = a.lineX1,\n      y0 = a.lineY0,\n      y1 = a.lineY1;\n\n  a.angle = a.x, delete a.x;\n  a.startAngle = a.x0, delete a.x0;\n  a.endAngle = a.x1, delete a.x1;\n  a.radius = a.y, delete a.y;\n  a.innerRadius = a.y0, delete a.y0;\n  a.outerRadius = a.y1, delete a.y1;\n  a.lineStartAngle = function() { return lineRadial(x0()); }, delete a.lineX0;\n  a.lineEndAngle = function() { return lineRadial(x1()); }, delete a.lineX1;\n  a.lineInnerRadius = function() { return lineRadial(y0()); }, delete a.lineY0;\n  a.lineOuterRadius = function() { return lineRadial(y1()); }, delete a.lineY1;\n\n  a.curve = function(_) {\n    return arguments.length ? c(curveRadial(_)) : c()._curve;\n  };\n\n  return a;\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/d3-sankey/~/d3-shape/src/areaRadial.js\n// module id = 73\n// module chunks = 0 1","import noop from \"../noop\";\nimport {point} from \"./basis\";\n\nfunction BasisClosed(context) {\n  this._context = context;\n}\n\nBasisClosed.prototype = {\n  areaStart: noop,\n  areaEnd: noop,\n  lineStart: function() {\n    this._x0 = this._x1 = this._x2 = this._x3 = this._x4 =\n    this._y0 = this._y1 = this._y2 = this._y3 = this._y4 = NaN;\n    this._point = 0;\n  },\n  lineEnd: function() {\n    switch (this._point) {\n      case 1: {\n        this._context.moveTo(this._x2, this._y2);\n        this._context.closePath();\n        break;\n      }\n      case 2: {\n        this._context.moveTo((this._x2 + 2 * this._x3) / 3, (this._y2 + 2 * this._y3) / 3);\n        this._context.lineTo((this._x3 + 2 * this._x2) / 3, (this._y3 + 2 * this._y2) / 3);\n        this._context.closePath();\n        break;\n      }\n      case 3: {\n        this.point(this._x2, this._y2);\n        this.point(this._x3, this._y3);\n        this.point(this._x4, this._y4);\n        break;\n      }\n    }\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    switch (this._point) {\n      case 0: this._point = 1; this._x2 = x, this._y2 = y; break;\n      case 1: this._point = 2; this._x3 = x, this._y3 = y; break;\n      case 2: this._point = 3; this._x4 = x, this._y4 = y; this._context.moveTo((this._x0 + 4 * this._x1 + x) / 6, (this._y0 + 4 * this._y1 + y) / 6); break;\n      default: point(this, x, y); break;\n    }\n    this._x0 = this._x1, this._x1 = x;\n    this._y0 = this._y1, this._y1 = y;\n  }\n};\n\nexport default function(context) {\n  return new BasisClosed(context);\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/d3-sankey/~/d3-shape/src/curve/basisClosed.js\n// module id = 74\n// module chunks = 0 1","import {point} from \"./basis\";\n\nfunction BasisOpen(context) {\n  this._context = context;\n}\n\nBasisOpen.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x0 = this._x1 =\n    this._y0 = this._y1 = NaN;\n    this._point = 0;\n  },\n  lineEnd: function() {\n    if (this._line || (this._line !== 0 && this._point === 3)) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    switch (this._point) {\n      case 0: this._point = 1; break;\n      case 1: this._point = 2; break;\n      case 2: this._point = 3; var x0 = (this._x0 + 4 * this._x1 + x) / 6, y0 = (this._y0 + 4 * this._y1 + y) / 6; this._line ? this._context.lineTo(x0, y0) : this._context.moveTo(x0, y0); break;\n      case 3: this._point = 4; // proceed\n      default: point(this, x, y); break;\n    }\n    this._x0 = this._x1, this._x1 = x;\n    this._y0 = this._y1, this._y1 = y;\n  }\n};\n\nexport default function(context) {\n  return new BasisOpen(context);\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/d3-sankey/~/d3-shape/src/curve/basisOpen.js\n// module id = 75\n// module chunks = 0 1","import {Basis} from \"./basis\";\n\nfunction Bundle(context, beta) {\n  this._basis = new Basis(context);\n  this._beta = beta;\n}\n\nBundle.prototype = {\n  lineStart: function() {\n    this._x = [];\n    this._y = [];\n    this._basis.lineStart();\n  },\n  lineEnd: function() {\n    var x = this._x,\n        y = this._y,\n        j = x.length - 1;\n\n    if (j > 0) {\n      var x0 = x[0],\n          y0 = y[0],\n          dx = x[j] - x0,\n          dy = y[j] - y0,\n          i = -1,\n          t;\n\n      while (++i <= j) {\n        t = i / j;\n        this._basis.point(\n          this._beta * x[i] + (1 - this._beta) * (x0 + t * dx),\n          this._beta * y[i] + (1 - this._beta) * (y0 + t * dy)\n        );\n      }\n    }\n\n    this._x = this._y = null;\n    this._basis.lineEnd();\n  },\n  point: function(x, y) {\n    this._x.push(+x);\n    this._y.push(+y);\n  }\n};\n\nexport default (function custom(beta) {\n\n  function bundle(context) {\n    return beta === 1 ? new Basis(context) : new Bundle(context, beta);\n  }\n\n  bundle.beta = function(beta) {\n    return custom(+beta);\n  };\n\n  return bundle;\n})(0.85);\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/d3-sankey/~/d3-shape/src/curve/bundle.js\n// module id = 76\n// module chunks = 0 1","import {CardinalClosed} from \"./cardinalClosed\";\nimport noop from \"../noop\";\nimport {point} from \"./catmullRom\";\n\nfunction CatmullRomClosed(context, alpha) {\n  this._context = context;\n  this._alpha = alpha;\n}\n\nCatmullRomClosed.prototype = {\n  areaStart: noop,\n  areaEnd: noop,\n  lineStart: function() {\n    this._x0 = this._x1 = this._x2 = this._x3 = this._x4 = this._x5 =\n    this._y0 = this._y1 = this._y2 = this._y3 = this._y4 = this._y5 = NaN;\n    this._l01_a = this._l12_a = this._l23_a =\n    this._l01_2a = this._l12_2a = this._l23_2a =\n    this._point = 0;\n  },\n  lineEnd: function() {\n    switch (this._point) {\n      case 1: {\n        this._context.moveTo(this._x3, this._y3);\n        this._context.closePath();\n        break;\n      }\n      case 2: {\n        this._context.lineTo(this._x3, this._y3);\n        this._context.closePath();\n        break;\n      }\n      case 3: {\n        this.point(this._x3, this._y3);\n        this.point(this._x4, this._y4);\n        this.point(this._x5, this._y5);\n        break;\n      }\n    }\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n\n    if (this._point) {\n      var x23 = this._x2 - x,\n          y23 = this._y2 - y;\n      this._l23_a = Math.sqrt(this._l23_2a = Math.pow(x23 * x23 + y23 * y23, this._alpha));\n    }\n\n    switch (this._point) {\n      case 0: this._point = 1; this._x3 = x, this._y3 = y; break;\n      case 1: this._point = 2; this._context.moveTo(this._x4 = x, this._y4 = y); break;\n      case 2: this._point = 3; this._x5 = x, this._y5 = y; break;\n      default: point(this, x, y); break;\n    }\n\n    this._l01_a = this._l12_a, this._l12_a = this._l23_a;\n    this._l01_2a = this._l12_2a, this._l12_2a = this._l23_2a;\n    this._x0 = this._x1, this._x1 = this._x2, this._x2 = x;\n    this._y0 = this._y1, this._y1 = this._y2, this._y2 = y;\n  }\n};\n\nexport default (function custom(alpha) {\n\n  function catmullRom(context) {\n    return alpha ? new CatmullRomClosed(context, alpha) : new CardinalClosed(context, 0);\n  }\n\n  catmullRom.alpha = function(alpha) {\n    return custom(+alpha);\n  };\n\n  return catmullRom;\n})(0.5);\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/d3-sankey/~/d3-shape/src/curve/catmullRomClosed.js\n// module id = 77\n// module chunks = 0 1","import {CardinalOpen} from \"./cardinalOpen\";\nimport {point} from \"./catmullRom\";\n\nfunction CatmullRomOpen(context, alpha) {\n  this._context = context;\n  this._alpha = alpha;\n}\n\nCatmullRomOpen.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x0 = this._x1 = this._x2 =\n    this._y0 = this._y1 = this._y2 = NaN;\n    this._l01_a = this._l12_a = this._l23_a =\n    this._l01_2a = this._l12_2a = this._l23_2a =\n    this._point = 0;\n  },\n  lineEnd: function() {\n    if (this._line || (this._line !== 0 && this._point === 3)) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n\n    if (this._point) {\n      var x23 = this._x2 - x,\n          y23 = this._y2 - y;\n      this._l23_a = Math.sqrt(this._l23_2a = Math.pow(x23 * x23 + y23 * y23, this._alpha));\n    }\n\n    switch (this._point) {\n      case 0: this._point = 1; break;\n      case 1: this._point = 2; break;\n      case 2: this._point = 3; this._line ? this._context.lineTo(this._x2, this._y2) : this._context.moveTo(this._x2, this._y2); break;\n      case 3: this._point = 4; // proceed\n      default: point(this, x, y); break;\n    }\n\n    this._l01_a = this._l12_a, this._l12_a = this._l23_a;\n    this._l01_2a = this._l12_2a, this._l12_2a = this._l23_2a;\n    this._x0 = this._x1, this._x1 = this._x2, this._x2 = x;\n    this._y0 = this._y1, this._y1 = this._y2, this._y2 = y;\n  }\n};\n\nexport default (function custom(alpha) {\n\n  function catmullRom(context) {\n    return alpha ? new CatmullRomOpen(context, alpha) : new CardinalOpen(context, 0);\n  }\n\n  catmullRom.alpha = function(alpha) {\n    return custom(+alpha);\n  };\n\n  return catmullRom;\n})(0.5);\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/d3-sankey/~/d3-shape/src/curve/catmullRomOpen.js\n// module id = 78\n// module chunks = 0 1","import noop from \"../noop\";\n\nfunction LinearClosed(context) {\n  this._context = context;\n}\n\nLinearClosed.prototype = {\n  areaStart: noop,\n  areaEnd: noop,\n  lineStart: function() {\n    this._point = 0;\n  },\n  lineEnd: function() {\n    if (this._point) this._context.closePath();\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    if (this._point) this._context.lineTo(x, y);\n    else this._point = 1, this._context.moveTo(x, y);\n  }\n};\n\nexport default function(context) {\n  return new LinearClosed(context);\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/d3-sankey/~/d3-shape/src/curve/linearClosed.js\n// module id = 79\n// module chunks = 0 1","function sign(x) {\n  return x < 0 ? -1 : 1;\n}\n\n// Calculate the slopes of the tangents (Hermite-type interpolation) based on\n// the following paper: Steffen, M. 1990. A Simple Method for Monotonic\n// Interpolation in One Dimension. Astronomy and Astrophysics, Vol. 239, NO.\n// NOV(II), P. 443, 1990.\nfunction slope3(that, x2, y2) {\n  var h0 = that._x1 - that._x0,\n      h1 = x2 - that._x1,\n      s0 = (that._y1 - that._y0) / (h0 || h1 < 0 && -0),\n      s1 = (y2 - that._y1) / (h1 || h0 < 0 && -0),\n      p = (s0 * h1 + s1 * h0) / (h0 + h1);\n  return (sign(s0) + sign(s1)) * Math.min(Math.abs(s0), Math.abs(s1), 0.5 * Math.abs(p)) || 0;\n}\n\n// Calculate a one-sided slope.\nfunction slope2(that, t) {\n  var h = that._x1 - that._x0;\n  return h ? (3 * (that._y1 - that._y0) / h - t) / 2 : t;\n}\n\n// According to https://en.wikipedia.org/wiki/Cubic_Hermite_spline#Representations\n// \"you can express cubic Hermite interpolation in terms of cubic Bzier curves\n// with respect to the four values p0, p0 + m0 / 3, p1 - m1 / 3, p1\".\nfunction point(that, t0, t1) {\n  var x0 = that._x0,\n      y0 = that._y0,\n      x1 = that._x1,\n      y1 = that._y1,\n      dx = (x1 - x0) / 3;\n  that._context.bezierCurveTo(x0 + dx, y0 + dx * t0, x1 - dx, y1 - dx * t1, x1, y1);\n}\n\nfunction MonotoneX(context) {\n  this._context = context;\n}\n\nMonotoneX.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x0 = this._x1 =\n    this._y0 = this._y1 =\n    this._t0 = NaN;\n    this._point = 0;\n  },\n  lineEnd: function() {\n    switch (this._point) {\n      case 2: this._context.lineTo(this._x1, this._y1); break;\n      case 3: point(this, this._t0, slope2(this, this._t0)); break;\n    }\n    if (this._line || (this._line !== 0 && this._point === 1)) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    var t1 = NaN;\n\n    x = +x, y = +y;\n    if (x === this._x1 && y === this._y1) return; // Ignore coincident points.\n    switch (this._point) {\n      case 0: this._point = 1; this._line ? this._context.lineTo(x, y) : this._context.moveTo(x, y); break;\n      case 1: this._point = 2; break;\n      case 2: this._point = 3; point(this, slope2(this, t1 = slope3(this, x, y)), t1); break;\n      default: point(this, this._t0, t1 = slope3(this, x, y)); break;\n    }\n\n    this._x0 = this._x1, this._x1 = x;\n    this._y0 = this._y1, this._y1 = y;\n    this._t0 = t1;\n  }\n}\n\nfunction MonotoneY(context) {\n  this._context = new ReflectContext(context);\n}\n\n(MonotoneY.prototype = Object.create(MonotoneX.prototype)).point = function(x, y) {\n  MonotoneX.prototype.point.call(this, y, x);\n};\n\nfunction ReflectContext(context) {\n  this._context = context;\n}\n\nReflectContext.prototype = {\n  moveTo: function(x, y) { this._context.moveTo(y, x); },\n  closePath: function() { this._context.closePath(); },\n  lineTo: function(x, y) { this._context.lineTo(y, x); },\n  bezierCurveTo: function(x1, y1, x2, y2, x, y) { this._context.bezierCurveTo(y1, x1, y2, x2, y, x); }\n};\n\nexport function monotoneX(context) {\n  return new MonotoneX(context);\n}\n\nexport function monotoneY(context) {\n  return new MonotoneY(context);\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/d3-sankey/~/d3-shape/src/curve/monotone.js\n// module id = 80\n// module chunks = 0 1","function Natural(context) {\n  this._context = context;\n}\n\nNatural.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x = [];\n    this._y = [];\n  },\n  lineEnd: function() {\n    var x = this._x,\n        y = this._y,\n        n = x.length;\n\n    if (n) {\n      this._line ? this._context.lineTo(x[0], y[0]) : this._context.moveTo(x[0], y[0]);\n      if (n === 2) {\n        this._context.lineTo(x[1], y[1]);\n      } else {\n        var px = controlPoints(x),\n            py = controlPoints(y);\n        for (var i0 = 0, i1 = 1; i1 < n; ++i0, ++i1) {\n          this._context.bezierCurveTo(px[0][i0], py[0][i0], px[1][i0], py[1][i0], x[i1], y[i1]);\n        }\n      }\n    }\n\n    if (this._line || (this._line !== 0 && n === 1)) this._context.closePath();\n    this._line = 1 - this._line;\n    this._x = this._y = null;\n  },\n  point: function(x, y) {\n    this._x.push(+x);\n    this._y.push(+y);\n  }\n};\n\n// See https://www.particleincell.com/2012/bezier-splines/ for derivation.\nfunction controlPoints(x) {\n  var i,\n      n = x.length - 1,\n      m,\n      a = new Array(n),\n      b = new Array(n),\n      r = new Array(n);\n  a[0] = 0, b[0] = 2, r[0] = x[0] + 2 * x[1];\n  for (i = 1; i < n - 1; ++i) a[i] = 1, b[i] = 4, r[i] = 4 * x[i] + 2 * x[i + 1];\n  a[n - 1] = 2, b[n - 1] = 7, r[n - 1] = 8 * x[n - 1] + x[n];\n  for (i = 1; i < n; ++i) m = a[i] / b[i - 1], b[i] -= m, r[i] -= m * r[i - 1];\n  a[n - 1] = r[n - 1] / b[n - 1];\n  for (i = n - 2; i >= 0; --i) a[i] = (r[i] - a[i + 1]) / b[i];\n  b[n - 1] = (x[n] + a[n - 1]) / 2;\n  for (i = 0; i < n - 1; ++i) b[i] = 2 * x[i + 1] - a[i + 1];\n  return [a, b];\n}\n\nexport default function(context) {\n  return new Natural(context);\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/d3-sankey/~/d3-shape/src/curve/natural.js\n// module id = 81\n// module chunks = 0 1","function Step(context, t) {\n  this._context = context;\n  this._t = t;\n}\n\nStep.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x = this._y = NaN;\n    this._point = 0;\n  },\n  lineEnd: function() {\n    if (0 < this._t && this._t < 1 && this._point === 2) this._context.lineTo(this._x, this._y);\n    if (this._line || (this._line !== 0 && this._point === 1)) this._context.closePath();\n    if (this._line >= 0) this._t = 1 - this._t, this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    switch (this._point) {\n      case 0: this._point = 1; this._line ? this._context.lineTo(x, y) : this._context.moveTo(x, y); break;\n      case 1: this._point = 2; // proceed\n      default: {\n        if (this._t <= 0) {\n          this._context.lineTo(this._x, y);\n          this._context.lineTo(x, y);\n        } else {\n          var x1 = this._x * (1 - this._t) + x * this._t;\n          this._context.lineTo(x1, this._y);\n          this._context.lineTo(x1, y);\n        }\n        break;\n      }\n    }\n    this._x = x, this._y = y;\n  }\n};\n\nexport default function(context) {\n  return new Step(context, 0.5);\n}\n\nexport function stepBefore(context) {\n  return new Step(context, 0);\n}\n\nexport function stepAfter(context) {\n  return new Step(context, 1);\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/d3-sankey/~/d3-shape/src/curve/step.js\n// module id = 82\n// module chunks = 0 1","export default function(a, b) {\n  return b < a ? -1 : b > a ? 1 : b >= a ? 0 : NaN;\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/d3-sankey/~/d3-shape/src/descending.js\n// module id = 83\n// module chunks = 0 1","export default function(d) {\n  return d;\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/d3-sankey/~/d3-shape/src/identity.js\n// module id = 84\n// module chunks = 0 1","import {path} from \"d3-path\";\nimport {slice} from \"../array\";\nimport constant from \"../constant\";\nimport {x as pointX, y as pointY} from \"../point\";\nimport pointRadial from \"../pointRadial\";\n\nfunction linkSource(d) {\n  return d.source;\n}\n\nfunction linkTarget(d) {\n  return d.target;\n}\n\nfunction link(curve) {\n  var source = linkSource,\n      target = linkTarget,\n      x = pointX,\n      y = pointY,\n      context = null;\n\n  function link() {\n    var buffer, argv = Array.apply(null, arguments), s = source.apply(this, argv), t = target.apply(this, argv);\n    if (!context) context = buffer = path();\n    curve(context, +x.apply(this, (argv[0] = s, argv)), +y.apply(this, argv), +x.apply(this, (argv[0] = t, argv)), +y.apply(this, argv));\n    if (buffer) return context = null, buffer + \"\" || null;\n  }\n\n  link.source = function(_) {\n    return arguments.length ? (source = _, link) : source;\n  };\n\n  link.target = function(_) {\n    return arguments.length ? (target = _, link) : target;\n  };\n\n  link.x = function(_) {\n    return arguments.length ? (x = typeof _ === \"function\" ? _ : constant(+_), link) : x;\n  };\n\n  link.y = function(_) {\n    return arguments.length ? (y = typeof _ === \"function\" ? _ : constant(+_), link) : y;\n  };\n\n  link.context = function(_) {\n    return arguments.length ? ((context = _ == null ? null : _), link) : context;\n  };\n\n  return link;\n}\n\nfunction curveHorizontal(context, x0, y0, x1, y1) {\n  context.moveTo(x0, y0);\n  context.bezierCurveTo(x0 = (x0 + x1) / 2, y0, x0, y1, x1, y1);\n}\n\nfunction curveVertical(context, x0, y0, x1, y1) {\n  context.moveTo(x0, y0);\n  context.bezierCurveTo(x0, y0 = (y0 + y1) / 2, x1, y0, x1, y1);\n}\n\nfunction curveRadial(context, x0, y0, x1, y1) {\n  var p0 = pointRadial(x0, y0),\n      p1 = pointRadial(x0, y0 = (y0 + y1) / 2),\n      p2 = pointRadial(x1, y0),\n      p3 = pointRadial(x1, y1);\n  context.moveTo(p0[0], p0[1]);\n  context.bezierCurveTo(p1[0], p1[1], p2[0], p2[1], p3[0], p3[1]);\n}\n\nexport function linkHorizontal() {\n  return link(curveHorizontal);\n}\n\nexport function linkVertical() {\n  return link(curveVertical);\n}\n\nexport function linkRadial() {\n  var l = link(curveRadial);\n  l.angle = l.x, delete l.x;\n  l.radius = l.y, delete l.y;\n  return l;\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/d3-sankey/~/d3-shape/src/link/index.js\n// module id = 85\n// module chunks = 0 1","export default function(series, order) {\n  if (!((n = series.length) > 1)) return;\n  for (var i, j = 0, d, dy, yp, yn, n, m = series[order[0]].length; j < m; ++j) {\n    for (yp = yn = 0, i = 0; i < n; ++i) {\n      if ((dy = (d = series[order[i]][j])[1] - d[0]) >= 0) {\n        d[0] = yp, d[1] = yp += dy;\n      } else if (dy < 0) {\n        d[1] = yn, d[0] = yn += dy;\n      } else {\n        d[0] = yp;\n      }\n    }\n  }\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/d3-sankey/~/d3-shape/src/offset/diverging.js\n// module id = 86\n// module chunks = 0 1","import none from \"./none\";\n\nexport default function(series, order) {\n  if (!((n = series.length) > 0)) return;\n  for (var i, n, j = 0, m = series[0].length, y; j < m; ++j) {\n    for (y = i = 0; i < n; ++i) y += series[i][j][1] || 0;\n    if (y) for (i = 0; i < n; ++i) series[i][j][1] /= y;\n  }\n  none(series, order);\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/d3-sankey/~/d3-shape/src/offset/expand.js\n// module id = 87\n// module chunks = 0 1","import none from \"./none\";\n\nexport default function(series, order) {\n  if (!((n = series.length) > 0)) return;\n  for (var j = 0, s0 = series[order[0]], n, m = s0.length; j < m; ++j) {\n    for (var i = 0, y = 0; i < n; ++i) y += series[i][j][1] || 0;\n    s0[j][1] += s0[j][0] = -y / 2;\n  }\n  none(series, order);\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/d3-sankey/~/d3-shape/src/offset/silhouette.js\n// module id = 88\n// module chunks = 0 1","import none from \"./none\";\n\nexport default function(series, order) {\n  if (!((n = series.length) > 0) || !((m = (s0 = series[order[0]]).length) > 0)) return;\n  for (var y = 0, j = 1, s0, m, n; j < m; ++j) {\n    for (var i = 0, s1 = 0, s2 = 0; i < n; ++i) {\n      var si = series[order[i]],\n          sij0 = si[j][1] || 0,\n          sij1 = si[j - 1][1] || 0,\n          s3 = (sij0 - sij1) / 2;\n      for (var k = 0; k < i; ++k) {\n        var sk = series[order[k]],\n            skj0 = sk[j][1] || 0,\n            skj1 = sk[j - 1][1] || 0;\n        s3 += skj0 - skj1;\n      }\n      s1 += sij0, s2 += s3 * sij0;\n    }\n    s0[j - 1][1] += s0[j - 1][0] = y;\n    if (s1) y -= s2 / s1;\n  }\n  s0[j - 1][1] += s0[j - 1][0] = y;\n  none(series, order);\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/d3-sankey/~/d3-shape/src/offset/wiggle.js\n// module id = 89\n// module chunks = 0 1","import ascending from \"./ascending\";\n\nexport default function(series) {\n  return ascending(series).reverse();\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/d3-sankey/~/d3-shape/src/order/descending.js\n// module id = 90\n// module chunks = 0 1","import none from \"./none\";\nimport {sum} from \"./ascending\";\n\nexport default function(series) {\n  var n = series.length,\n      i,\n      j,\n      sums = series.map(sum),\n      order = none(series).sort(function(a, b) { return sums[b] - sums[a]; }),\n      top = 0,\n      bottom = 0,\n      tops = [],\n      bottoms = [];\n\n  for (i = 0; i < n; ++i) {\n    j = order[i];\n    if (top < bottom) {\n      top += sums[j];\n      tops.push(j);\n    } else {\n      bottom += sums[j];\n      bottoms.push(j);\n    }\n  }\n\n  return bottoms.reverse().concat(tops);\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/d3-sankey/~/d3-shape/src/order/insideOut.js\n// module id = 91\n// module chunks = 0 1","import none from \"./none\";\n\nexport default function(series) {\n  return none(series).reverse();\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/d3-sankey/~/d3-shape/src/order/reverse.js\n// module id = 92\n// module chunks = 0 1","import constant from \"./constant\";\nimport descending from \"./descending\";\nimport identity from \"./identity\";\nimport {tau} from \"./math\";\n\nexport default function() {\n  var value = identity,\n      sortValues = descending,\n      sort = null,\n      startAngle = constant(0),\n      endAngle = constant(tau),\n      padAngle = constant(0);\n\n  function pie(data) {\n    var i,\n        n = data.length,\n        j,\n        k,\n        sum = 0,\n        index = new Array(n),\n        arcs = new Array(n),\n        a0 = +startAngle.apply(this, arguments),\n        da = Math.min(tau, Math.max(-tau, endAngle.apply(this, arguments) - a0)),\n        a1,\n        p = Math.min(Math.abs(da) / n, padAngle.apply(this, arguments)),\n        pa = p * (da < 0 ? -1 : 1),\n        v;\n\n    for (i = 0; i < n; ++i) {\n      if ((v = arcs[index[i] = i] = +value(data[i], i, data)) > 0) {\n        sum += v;\n      }\n    }\n\n    // Optionally sort the arcs by previously-computed values or by data.\n    if (sortValues != null) index.sort(function(i, j) { return sortValues(arcs[i], arcs[j]); });\n    else if (sort != null) index.sort(function(i, j) { return sort(data[i], data[j]); });\n\n    // Compute the arcs! They are stored in the original data's order.\n    for (i = 0, k = sum ? (da - n * pa) / sum : 0; i < n; ++i, a0 = a1) {\n      j = index[i], v = arcs[j], a1 = a0 + (v > 0 ? v * k : 0) + pa, arcs[j] = {\n        data: data[j],\n        index: i,\n        value: v,\n        startAngle: a0,\n        endAngle: a1,\n        padAngle: p\n      };\n    }\n\n    return arcs;\n  }\n\n  pie.value = function(_) {\n    return arguments.length ? (value = typeof _ === \"function\" ? _ : constant(+_), pie) : value;\n  };\n\n  pie.sortValues = function(_) {\n    return arguments.length ? (sortValues = _, sort = null, pie) : sortValues;\n  };\n\n  pie.sort = function(_) {\n    return arguments.length ? (sort = _, sortValues = null, pie) : sort;\n  };\n\n  pie.startAngle = function(_) {\n    return arguments.length ? (startAngle = typeof _ === \"function\" ? _ : constant(+_), pie) : startAngle;\n  };\n\n  pie.endAngle = function(_) {\n    return arguments.length ? (endAngle = typeof _ === \"function\" ? _ : constant(+_), pie) : endAngle;\n  };\n\n  pie.padAngle = function(_) {\n    return arguments.length ? (padAngle = typeof _ === \"function\" ? _ : constant(+_), pie) : padAngle;\n  };\n\n  return pie;\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/d3-sankey/~/d3-shape/src/pie.js\n// module id = 93\n// module chunks = 0 1","import {slice} from \"./array\";\nimport constant from \"./constant\";\nimport offsetNone from \"./offset/none\";\nimport orderNone from \"./order/none\";\n\nfunction stackValue(d, key) {\n  return d[key];\n}\n\nexport default function() {\n  var keys = constant([]),\n      order = orderNone,\n      offset = offsetNone,\n      value = stackValue;\n\n  function stack(data) {\n    var kz = keys.apply(this, arguments),\n        i,\n        m = data.length,\n        n = kz.length,\n        sz = new Array(n),\n        oz;\n\n    for (i = 0; i < n; ++i) {\n      for (var ki = kz[i], si = sz[i] = new Array(m), j = 0, sij; j < m; ++j) {\n        si[j] = sij = [0, +value(data[j], ki, j, data)];\n        sij.data = data[j];\n      }\n      si.key = ki;\n    }\n\n    for (i = 0, oz = order(sz); i < n; ++i) {\n      sz[oz[i]].index = i;\n    }\n\n    offset(sz, oz);\n    return sz;\n  }\n\n  stack.keys = function(_) {\n    return arguments.length ? (keys = typeof _ === \"function\" ? _ : constant(slice.call(_)), stack) : keys;\n  };\n\n  stack.value = function(_) {\n    return arguments.length ? (value = typeof _ === \"function\" ? _ : constant(+_), stack) : value;\n  };\n\n  stack.order = function(_) {\n    return arguments.length ? (order = _ == null ? orderNone : typeof _ === \"function\" ? _ : constant(slice.call(_)), stack) : order;\n  };\n\n  stack.offset = function(_) {\n    return arguments.length ? (offset = _ == null ? offsetNone : _, stack) : offset;\n  };\n\n  return stack;\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/d3-sankey/~/d3-shape/src/stack.js\n// module id = 94\n// module chunks = 0 1","import {path} from \"d3-path\";\nimport circle from \"./symbol/circle\";\nimport cross from \"./symbol/cross\";\nimport diamond from \"./symbol/diamond\";\nimport star from \"./symbol/star\";\nimport square from \"./symbol/square\";\nimport triangle from \"./symbol/triangle\";\nimport wye from \"./symbol/wye\";\nimport constant from \"./constant\";\n\nexport var symbols = [\n  circle,\n  cross,\n  diamond,\n  square,\n  star,\n  triangle,\n  wye\n];\n\nexport default function() {\n  var type = constant(circle),\n      size = constant(64),\n      context = null;\n\n  function symbol() {\n    var buffer;\n    if (!context) context = buffer = path();\n    type.apply(this, arguments).draw(context, +size.apply(this, arguments));\n    if (buffer) return context = null, buffer + \"\" || null;\n  }\n\n  symbol.type = function(_) {\n    return arguments.length ? (type = typeof _ === \"function\" ? _ : constant(_), symbol) : type;\n  };\n\n  symbol.size = function(_) {\n    return arguments.length ? (size = typeof _ === \"function\" ? _ : constant(+_), symbol) : size;\n  };\n\n  symbol.context = function(_) {\n    return arguments.length ? (context = _ == null ? null : _, symbol) : context;\n  };\n\n  return symbol;\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/d3-sankey/~/d3-shape/src/symbol.js\n// module id = 95\n// module chunks = 0 1","export default function constant(x) {\n  return function() {\n    return x;\n  };\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/d3-sankey/src/constant.js\n// module id = 96\n// module chunks = 0 1","import {ascending, min, sum} from \"d3-array\";\nimport {map, nest} from \"d3-collection\";\nimport {justify} from \"./align\";\nimport constant from \"./constant\";\n\nfunction ascendingSourceBreadth(a, b) {\n  return ascendingBreadth(a.source, b.source) || a.index - b.index;\n}\n\nfunction ascendingTargetBreadth(a, b) {\n  return ascendingBreadth(a.target, b.target) || a.index - b.index;\n}\n\nfunction ascendingBreadth(a, b) {\n  return a.y0 - b.y0;\n}\n\nfunction value(d) {\n  return d.value;\n}\n\nfunction nodeCenter(node) {\n  return (node.y0 + node.y1) / 2;\n}\n\nfunction weightedSource(link) {\n  return nodeCenter(link.source) * link.value;\n}\n\nfunction weightedTarget(link) {\n  return nodeCenter(link.target) * link.value;\n}\n\nfunction defaultId(d) {\n  return d.index;\n}\n\nfunction defaultNodes(graph) {\n  return graph.nodes;\n}\n\nfunction defaultLinks(graph) {\n  return graph.links;\n}\n\nfunction find(nodeById, id) {\n  var node = nodeById.get(id);\n  if (!node) throw new Error(\"missing: \" + id);\n  return node;\n}\n\nexport default function() {\n  var x0 = 0, y0 = 0, x1 = 1, y1 = 1, // extent\n      dx = 24, // nodeWidth\n      py = 8, // nodePadding\n      id = defaultId,\n      align = justify,\n      nodes = defaultNodes,\n      links = defaultLinks,\n      iterations = 32;\n\n  function sankey() {\n    var graph = {nodes: nodes.apply(null, arguments), links: links.apply(null, arguments)};\n    computeNodeLinks(graph);\n    computeNodeValues(graph);\n    computeNodeDepths(graph);\n    computeNodeBreadths(graph, iterations);\n    computeLinkBreadths(graph);\n    return graph;\n  }\n\n  sankey.update = function(graph) {\n    computeLinkBreadths(graph);\n    return graph;\n  };\n\n  sankey.nodeId = function(_) {\n    return arguments.length ? (id = typeof _ === \"function\" ? _ : constant(_), sankey) : id;\n  };\n\n  sankey.nodeAlign = function(_) {\n    return arguments.length ? (align = typeof _ === \"function\" ? _ : constant(_), sankey) : align;\n  };\n\n  sankey.nodeWidth = function(_) {\n    return arguments.length ? (dx = +_, sankey) : dx;\n  };\n\n  sankey.nodePadding = function(_) {\n    return arguments.length ? (py = +_, sankey) : py;\n  };\n\n  sankey.nodes = function(_) {\n    return arguments.length ? (nodes = typeof _ === \"function\" ? _ : constant(_), sankey) : nodes;\n  };\n\n  sankey.links = function(_) {\n    return arguments.length ? (links = typeof _ === \"function\" ? _ : constant(_), sankey) : links;\n  };\n\n  sankey.size = function(_) {\n    return arguments.length ? (x0 = y0 = 0, x1 = +_[0], y1 = +_[1], sankey) : [x1 - x0, y1 - y0];\n  };\n\n  sankey.extent = function(_) {\n    return arguments.length ? (x0 = +_[0][0], x1 = +_[1][0], y0 = +_[0][1], y1 = +_[1][1], sankey) : [[x0, y0], [x1, y1]];\n  };\n\n  sankey.iterations = function(_) {\n    return arguments.length ? (iterations = +_, sankey) : iterations;\n  };\n\n  // Populate the sourceLinks and targetLinks for each node.\n  // Also, if the source and target are not objects, assume they are indices.\n  function computeNodeLinks(graph) {\n    graph.nodes.forEach(function(node, i) {\n      node.index = i;\n      node.sourceLinks = [];\n      node.targetLinks = [];\n    });\n    var nodeById = map(graph.nodes, id);\n    graph.links.forEach(function(link, i) {\n      link.index = i;\n      var source = link.source, target = link.target;\n      if (typeof source !== \"object\") source = link.source = find(nodeById, source);\n      if (typeof target !== \"object\") target = link.target = find(nodeById, target);\n      source.sourceLinks.push(link);\n      target.targetLinks.push(link);\n    });\n  }\n\n  // Compute the value (size) of each node by summing the associated links.\n  function computeNodeValues(graph) {\n    graph.nodes.forEach(function(node) {\n      node.value = Math.max(\n        sum(node.sourceLinks, value),\n        sum(node.targetLinks, value)\n      );\n    });\n  }\n\n  // Iteratively assign the depth (x-position) for each node.\n  // Nodes are assigned the maximum depth of incoming neighbors plus one;\n  // nodes with no incoming links are assigned depth zero, while\n  // nodes with no outgoing links are assigned the maximum depth.\n  function computeNodeDepths(graph) {\n    var nodes, next, x;\n\n    for (nodes = graph.nodes, next = [], x = 0; nodes.length; ++x, nodes = next, next = []) {\n      nodes.forEach(function(node) {\n        node.depth = x;\n        node.sourceLinks.forEach(function(link) {\n          if (next.indexOf(link.target) < 0) {\n            next.push(link.target);\n          }\n        });\n      });\n    }\n\n    for (nodes = graph.nodes, next = [], x = 0; nodes.length; ++x, nodes = next, next = []) {\n      nodes.forEach(function(node) {\n        node.height = x;\n        node.targetLinks.forEach(function(link) {\n          if (next.indexOf(link.source) < 0) {\n            next.push(link.source);\n          }\n        });\n      });\n    }\n\n    var kx = (x1 - x0 - dx) / (x - 1);\n    graph.nodes.forEach(function(node) {\n      node.x1 = (node.x0 = x0 + Math.max(0, Math.min(x - 1, Math.floor(align.call(null, node, x)))) * kx) + dx;\n    });\n  }\n\n  function computeNodeBreadths(graph) {\n    var columns = nest()\n        .key(function(d) { return d.x0; })\n        .sortKeys(ascending)\n        .entries(graph.nodes)\n        .map(function(d) { return d.values; });\n\n    //\n    initializeNodeBreadth();\n    resolveCollisions();\n    for (var alpha = 1, n = iterations; n > 0; --n) {\n      relaxRightToLeft(alpha *= 0.99);\n      resolveCollisions();\n      relaxLeftToRight(alpha);\n      resolveCollisions();\n    }\n\n    function initializeNodeBreadth() {\n      var ky = min(columns, function(nodes) {\n        return (y1 - y0 - (nodes.length - 1) * py) / sum(nodes, value);\n      });\n\n      columns.forEach(function(nodes) {\n        nodes.forEach(function(node, i) {\n          node.y1 = (node.y0 = i) + node.value * ky;\n        });\n      });\n\n      graph.links.forEach(function(link) {\n        link.width = link.value * ky;\n      });\n    }\n\n    function relaxLeftToRight(alpha) {\n      columns.forEach(function(nodes) {\n        nodes.forEach(function(node) {\n          if (node.targetLinks.length) {\n            var dy = (sum(node.targetLinks, weightedSource) / sum(node.targetLinks, value) - nodeCenter(node)) * alpha;\n            node.y0 += dy, node.y1 += dy;\n          }\n        });\n      });\n    }\n\n    function relaxRightToLeft(alpha) {\n      columns.slice().reverse().forEach(function(nodes) {\n        nodes.forEach(function(node) {\n          if (node.sourceLinks.length) {\n            var dy = (sum(node.sourceLinks, weightedTarget) / sum(node.sourceLinks, value) - nodeCenter(node)) * alpha;\n            node.y0 += dy, node.y1 += dy;\n          }\n        });\n      });\n    }\n\n    function resolveCollisions() {\n      columns.forEach(function(nodes) {\n        var node,\n            dy,\n            y = y0,\n            n = nodes.length,\n            i;\n\n        // Push any overlapping nodes down.\n        nodes.sort(ascendingBreadth);\n        for (i = 0; i < n; ++i) {\n          node = nodes[i];\n          dy = y - node.y0;\n          if (dy > 0) node.y0 += dy, node.y1 += dy;\n          y = node.y1 + py;\n        }\n\n        // If the bottommost node goes outside the bounds, push it back up.\n        dy = y - py - y1;\n        if (dy > 0) {\n          y = (node.y0 -= dy), node.y1 -= dy;\n\n          // Push any overlapping nodes back up.\n          for (i = n - 2; i >= 0; --i) {\n            node = nodes[i];\n            dy = node.y1 + py - y;\n            if (dy > 0) node.y0 -= dy, node.y1 -= dy;\n            y = node.y0;\n          }\n        }\n      });\n    }\n  }\n\n  function computeLinkBreadths(graph) {\n    graph.nodes.forEach(function(node) {\n      node.sourceLinks.sort(ascendingTargetBreadth);\n      node.targetLinks.sort(ascendingSourceBreadth);\n    });\n    graph.nodes.forEach(function(node) {\n      var y0 = node.y0, y1 = y0;\n      node.sourceLinks.forEach(function(link) {\n        link.y0 = y0 + link.width / 2, y0 += link.width;\n      });\n      node.targetLinks.forEach(function(link) {\n        link.y1 = y1 + link.width / 2, y1 += link.width;\n      });\n    });\n  }\n\n  return sankey;\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/d3-sankey/src/sankey.js\n// module id = 97\n// module chunks = 0 1","import {linkHorizontal} from \"d3-shape\";\n\nfunction horizontalSource(d) {\n  return [d.source.x1, d.y0];\n}\n\nfunction horizontalTarget(d) {\n  return [d.target.x0, d.y1];\n}\n\nexport default function() {\n  return linkHorizontal()\n      .source(horizontalSource)\n      .target(horizontalTarget);\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/d3-sankey/src/sankeyLinkHorizontal.js\n// module id = 98\n// module chunks = 0 1","// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/styles.scss\n// module id = 99\n// module chunks = 0 1","module.exports = \"<!-- Sankey Component -->\\n<div class=\\\"vzb-sankey\\\">\\n    <svg class=\\\"vzb-sankey-svg\\\">\\n        <g class=\\\"vzb-sankey-header\\\">\\n            <text class=\\\"vzb-sankey-header-text\\\"></text>\\n            <g class=\\\"vzb-data-info-icon\\\"></g>\\n        </g>\\n        <g class=\\\"vzb-sankey-chart\\\">\\n            <g class=\\\"links-container\\\"></g>\\n            <g class=\\\"gradient-links-container\\\"></g>\\n            <g class=\\\"nodes-container\\\"></g>\\n        </g>\\n        <g class=\\\"vzb-sankey-footer\\\">\\n            <g class=\\\"vzb-data-warning\\\">\\n                <text class=\\\"vzb-sankey-footer-text\\\"></text>\\n                <g class=\\\"vzb-data-warning-icon\\\"></g>\\n            </g>\\n        </g>\\n        <defs></defs>\\n    </svg>\\n</div>\\n\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/template.html\n// module id = 100\n// module chunks = 0 1"],"sourceRoot":""}