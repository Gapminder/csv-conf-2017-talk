<!doctype html>
<html>

<head>
  <link rel="stylesheet" href="lib/vizabi/vizabi.css">
  <link rel="stylesheet" href="lib/vizabi/bubblechart.css">


  <script src="lib/d3.min.js"></script>
  <script src="lib/vizabi/vizabi.js"></script>
  <script src="lib/vizabi/vizabi-ddfcsv-reader.js"></script>
  <script src="lib/vizabi/bubblechart.js"></script>
  <script src="lib/vizabi/ConfigBubbleChart.js"></script>

</head>

<body>
  <div id="placeholder" style="width:100%; height:800px;"></div>
  <p> 
    <a style="cursor: pointer; color: blue; text-decoration: underline" onclick="setModel('country')">Countries</a>
    <a style="cursor: pointer; color: blue; text-decoration: underline" onclick="setModel('un_state')">UN states</a>
  </p>
  
  <p id="modelOutput"></p>

  <script>
    var ddfReader = new DDFCsvReader.getDDFCsvReaderObject()
    Vizabi.Reader.extend("ddf", ddfReader);

    ConfigBubbleChart.locale = {
      "id": "en",
      "filePath": "assets/translation/"
    };
    ConfigBubbleChart.data = {
      "reader": "ddf",
      "path": "data/presentation_set"
    };

    var viz = Vizabi("BubbleChart", document.getElementById("placeholder"), ConfigBubbleChart);


    function setModel(arg) {
      var show = {};
      show["is--"+arg] = true;
      viz.model.state.entities.show = show;
      //d3.select("#modelOutput").text(viz.model.state.entities.show.getPlainObject())
    }
    
    
    
  </script>

</body>

</html>
